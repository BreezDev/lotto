diff --git a/README.md b/README.md
new file mode 100644
index 0000000000000000000000000000000000000000..c058ad768c14d01be753d80a0e6ac069e7cf5809
--- /dev/null
+++ b/README.md
@@ -0,0 +1,42 @@
+# LottoLife Simulator
+
+A Flask-powered life simulator for newly minted lottery winners. Features include:
+
+- Full life-sim catalogs for cars, homes, businesses, investments, and charities.
+- Happiness, reputation, and milestone tracking with dozens of achievements.
+- Import/export saves, local autosave, and optional email snapshots through Resend.
+- Mobile-first dashboard with Progressive Web App support, service worker, and manifest.
+
+## Getting started
+
+1. Install dependencies and run the Flask dev server:
+   ```bash
+   pip install -r requirements.txt
+   flask --app app run --debug
+   ```
+2. Visit `http://127.0.0.1:5000/start` and enter your jackpot (capped at $1,000,000,000).
+3. Play through the simulator, explore every tab, and update the leaderboard from the Portfolio tab when you finish a run.
+
+## Resend email setup
+
+The simulator can email start summaries and save-state snapshots. Create an API key at [Resend](https://resend.com) and expose it to the app:
+
+```bash
+export RESEND_API_KEY="your_live_api_key"
+```
+
+The key is read on startup inside `app.py`. Leave the variable unset to disable outbound email.
+
+## Importing & exporting saves
+
+- Use the **Export Save** button to download a JSON snapshot of your current run.
+- Restore progress with **Import Save** on the Portfolio or Lifestyle tabs.
+- Saves also persist in browser storage under the key `lotto-life-save-v2`.
+
+## Progressive Web App
+
+The project ships with `static/manifest.json`, service worker caching in `static/js/sw.js`, and 192px/512px icons inside `static/icons/`. Browsers that support PWA installation will show an install prompt after you visit the simulator.
+
+## Database
+
+Player snapshots for the leaderboard are stored in `game.db`. The schema updates automatically via `init_db()` when the app starts. Delete the file to clear the leaderboard.
diff --git a/app.py b/app.py
index 2bef467a0cba9e0b3d1e74942bc5d73ad36668bf..15925c7d6c974a762689a0e9749734769a6341cf 100644
--- a/app.py
+++ b/app.py
@@ -1,35 +1,39 @@
 from flask import Flask, render_template, jsonify, request, redirect, url_for, session
 import sqlite3, os, random, json, datetime, secrets
+from urllib import request as urlrequest
+from urllib.error import URLError, HTTPError
 
 from typing import Dict, Any
 
 app = Flask(__name__)
 app.secret_key = "lotto-life-secret"
 app.permanent_session_lifetime = datetime.timedelta(days=14)
-
-DB_PATH = "game.db"
+
+DB_PATH = "game.db"
+
+MAX_ENTRY_AMOUNT = 1_000_000_000
 
 # --- State & Federal Tax Rates ---
 STATE_TAX = {
     "MI": 0.0425, "CA": 0.133, "TX": 0.00, "FL": 0.00, "NY": 0.109,
     "IL": 0.0495, "PA": 0.0307, "OH": 0.04, "NJ": 0.1075, "GA": 0.0575
 }
 FEDERAL_TAX = 0.24  # average federal withholding
 
 # --- DB Setup ---
 def init_db():
     conn = sqlite3.connect(DB_PATH)
     c = conn.cursor()
     c.execute(
         """
         CREATE TABLE IF NOT EXISTS players (
             id TEXT PRIMARY KEY,
             name TEXT,
             state TEXT,
             wallet REAL,
             savings REAL,
             net REAL,
             rep REAL,
             updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
             goal TEXT,
             day INTEGER DEFAULT 1,
@@ -42,142 +46,228 @@ def init_db():
         )
         """
     )
     conn.commit()
 
     # make sure columns exist for users coming from an older schema
     optional_columns = {
         "goal": "TEXT",
         "day": "INTEGER DEFAULT 1",
         "lifestyle": "REAL DEFAULT 0",
         "happiness": "REAL DEFAULT 50",
         "high_net": "REAL DEFAULT 0",
         "taxes_paid": "REAL DEFAULT 0",
         "charity_given": "REAL DEFAULT 0",
         "last_state": "TEXT",
     }
     for column, ddl in optional_columns.items():
         try:
             c.execute(f"ALTER TABLE players ADD COLUMN {column} {ddl}")
             conn.commit()
         except sqlite3.OperationalError:
             # column already exists
             pass
 
     conn.close()
-init_db()
-
-# --- Pages ---
+init_db()
+
+
+def _format_currency(value: float) -> str:
+    try:
+        return f"${value:,.2f}"
+    except (TypeError, ValueError):
+        return "$0.00"
+
+
+def send_resend_email(to_email: str, subject: str, html: str) -> bool:
+    """Send an email via the Resend API. Returns True on success."""
+    api_key = os.getenv("RESEND_API_KEY")
+    if not api_key or not to_email:
+        app.logger.info("Resend email skipped ‚Äì missing api key or email")
+        return False
+
+    payload = json.dumps({
+        "from": "LottoLife Simulator <lotto@resend.dev>",
+        "to": [to_email],
+        "subject": subject,
+        "html": html,
+    }).encode("utf-8")
+
+    req = urlrequest.Request(
+        "https://api.resend.com/emails",
+        data=payload,
+        headers={
+            "Content-Type": "application/json",
+            "Authorization": f"Bearer {api_key}",
+        },
+        method="POST",
+    )
+
+    try:
+        with urlrequest.urlopen(req, timeout=10) as resp:
+            resp.read()
+        return True
+    except (URLError, HTTPError) as exc:
+        app.logger.warning("Resend email failed: %s", exc)
+        return False
+
+# --- Pages ---
 @app.route("/")
 def home():
     # if user hasn't entered winnings yet, go to start page
     if "wallet" not in session or session.get("wallet", 0) <= 0:
         return redirect(url_for("start"))
     return redirect(url_for("game"))
 
 
 @app.route("/start")
 def start():
     return render_template("start.html")
 
 @app.route("/startgame", methods=["POST"])
 def startgame():
     try:
         raw_amount = request.form.get("amount", "0").replace(",", "")
         amt = max(0.0, float(raw_amount))
+        if amt > MAX_ENTRY_AMOUNT:
+            amt = MAX_ENTRY_AMOUNT
     except ValueError:
         amt = 0.0
 
     st = request.form.get("state", "MI")
     goal = request.form.get("goal", "").strip()
     profile = request.form.get("profile", "balanced")
     name = request.form.get("name", "Player").strip() or "Player"
     lifestyle = request.form.get("lifestyle", "smart")
     payout = request.form.get("payout", "lump")
+    email = request.form.get("email", "").strip()
 
     if payout == "annuity":
         # simplified annuity estimate: 30-year payout with 4% APY assumption
         years = 30
         rate = 0.04
         annuity_payment = (amt * rate) / (1 - (1 + rate) ** (-years)) if amt else 0
         amt = annuity_payment * years * 0.55  # assume taxes on each payment ~45%
 
     fed_tax = amt * FEDERAL_TAX
     state_tax = amt * STATE_TAX.get(st, 0)
     net = max(0.0, amt - (fed_tax + state_tax))
     savings = net * 0.20
     wallet = net - savings
 
     session.permanent = True
     session["player_id"] = session.get("player_id") or secrets.token_hex(8)
     session["player_name"] = name
     session["profile"] = profile
     session["lifestyle_pref"] = lifestyle
     session["payout_type"] = payout
     session["wallet"] = wallet
     session["savings"] = savings
     session["state"] = st
     session["goal"] = goal
     session["net"] = net
     session["starting_amount"] = amt
     session["tax_paid"] = fed_tax + state_tax
     session["day"] = 1
+    if email:
+        session["player_email"] = email
     session.modified = True
+
+    if email:
+        summary_html = f"""
+            <h2>Welcome to LottoLife, {name}!</h2>
+            <p>Here is the snapshot of your jackpot after taxes:</p>
+            <ul>
+                <li><strong>State:</strong> {st}</li>
+                <li><strong>Goal:</strong> {goal or 'Set inside the simulator'}</li>
+                <li><strong>Net after tax:</strong> {_format_currency(net)}</li>
+                <li><strong>Wallet:</strong> {_format_currency(wallet)}</li>
+                <li><strong>Savings:</strong> {_format_currency(savings)}</li>
+                <li><strong>Estimated taxes paid:</strong> {_format_currency(fed_tax + state_tax)}</li>
+            </ul>
+            <p>You can always export your save inside the simulator or request another copy of your stats from the Lifestyle tab.</p>
+            <p style='color:#7184ff'>Need to configure email sending? Set the <code>RESEND_API_KEY</code> environment variable on your host.</p>
+        """
+        send_resend_email(email, f"LottoLife setup for {name}", summary_html)
     return redirect(url_for("game"))
 
 @app.route("/game")
 def game():
     if "wallet" not in session:
         return redirect(url_for("start"))
 
     start_data: Dict[str, Any] = {
         "wallet": round(session.get("wallet", 0.0), 2),
         "savings": round(session.get("savings", 0.0), 2),
         "net": round(session.get("net", 0.0), 2),
         "state": session.get("state", ""),
         "goal": session.get("goal", ""),
         "playerName": session.get("player_name", "Player"),
         "playerId": session.get("player_id"),
         "profile": session.get("profile", "balanced"),
         "payout": session.get("payout_type", "lump"),
         "lifestylePref": session.get("lifestyle_pref", "smart"),
         "taxPaid": round(session.get("tax_paid", 0.0), 2),
         "startingAmount": round(session.get("starting_amount", 0.0), 2),
         "day": session.get("day", 1),
+        "playerEmail": session.get("player_email", ""),
     }
     return render_template("game.html", start_data=start_data)
-
+
 @app.route("/leaderboard")
 def leaderboard():
     conn = sqlite3.connect(DB_PATH)
     conn.row_factory = sqlite3.Row
     rows = conn.execute(
         "SELECT * FROM players ORDER BY net DESC LIMIT 100"
     ).fetchall()
     conn.close()
-    return render_template("leaderboard.html", players=rows)
-
+    enriched = []
+    for row in rows:
+        top_charity = None
+        charity_count = 0
+        try:
+            if row["last_state"]:
+                last_state = json.loads(row["last_state"])
+                charities = (
+                    last_state.get("holdings", {}).get("charities")
+                    or last_state.get("charities")
+                    or []
+                )
+                charity_count = len(charities)
+                if charities:
+                    richest = max(charities, key=lambda c: c.get("monthly_drain", 0))
+                    top_charity = f"{richest.get('name')} (${richest.get('monthly_drain', 0):,.0f}/mo)"
+        except json.JSONDecodeError:
+            top_charity = None
+        enriched.append({
+            **dict(row),
+            "charity_count": charity_count,
+            "top_charity": top_charity,
+        })
+    return render_template("leaderboard.html", players=enriched)
+
 @app.route("/guide")
 def guide():
     return render_template("guide.html")
 
 # --- API: catalogs + update ---
 @app.route("/api/catalog/<cat>")
 def catalog(cat):
     path = f"static/json/{cat}.json"
     if not os.path.exists(path): return jsonify([])
     with open(path) as f: return jsonify(json.load(f))
 
 @app.route("/api/update", methods=["POST"])
 def api_update():
     data = request.get_json() or {}
     pid = session.get("player_id") or data.get("id") or f"user_{random.randint(1000,9999)}"
     session["player_id"] = pid
     wallet = float(data.get("wallet", 0))
     savings = float(data.get("savings", 0))
     net = float(data.get("net", wallet + savings))
     rep = float(data.get("rep", 0))
     state = session.get("state", "Unknown")
     name = data.get("name") or session.get("player_name") or f"Player {pid[-4:]}"
     goal = data.get("goal") or session.get("goal", "")
     day = int(data.get("day", session.get("day", 1)))
     lifestyle = float(data.get("lifestyle", 0))
@@ -215,58 +305,86 @@ def api_update():
         """,
         (
             pid,
             name,
             state,
             wallet,
             savings,
             net,
             rep,
             datetime.datetime.utcnow(),
             goal,
             day,
             lifestyle,
             happiness,
             high_net,
             taxes_paid,
             charity_given,
             last_state,
         ),
     )
     conn.commit()
     conn.close()
     return jsonify({"ok": True, "id": pid})
 
 
+@app.route("/api/email", methods=["POST"])
+def api_email():
+    data = request.get_json() or {}
+    email = data.get("email") or session.get("player_email")
+    if email:
+        session["player_email"] = email
+    if not email:
+        return jsonify({"ok": False, "error": "missing email"}), 400
+    player = data.get("player") or {}
+    stats = data.get("stats") or {}
+    html = """
+        <h2>Your LottoLife snapshot</h2>
+        <p>Here is the latest state exported from the simulator:</p>
+    """
+    if player:
+        html += "<ul>"
+        for key, value in player.items():
+            html += f"<li><strong>{key}:</strong> {value}</li>"
+        html += "</ul>"
+    if stats:
+        html += "<pre style='background:#0b1222;color:#eef3ff;padding:12px;border-radius:12px;'>"
+        html += json.dumps(stats, indent=2)
+        html += "</pre>"
+    sent = send_resend_email(email, "Your LottoLife snapshot", html)
+    return jsonify({"ok": sent})
+
+
 @app.route("/api/session")
 def api_session():
     return jsonify({k: session.get(k) for k in [
         "player_id",
         "player_name",
         "state",
         "goal",
         "wallet",
         "savings",
         "net",
         "tax_paid",
         "day",
+        "player_email",
     ]})
 
 
 @app.route("/reset")
 def reset():
     session.clear()
     return redirect(url_for("start"))
 
 
 @app.context_processor
 def inject_tax_tables():
     return {"STATE_TAX": STATE_TAX, "FEDERAL_TAX": FEDERAL_TAX}
 
 @app.route("/debugsession")
 def debugsession():
     from flask import jsonify
     return jsonify(dict(session))
 
 
 if __name__ == "__main__":
     app.run(debug=True)
diff --git a/requirements.txt b/requirements.txt
new file mode 100644
index 0000000000000000000000000000000000000000..1f84087e7a989441376f33dfd1dd4f4a5d08726d
--- /dev/null
+++ b/requirements.txt
@@ -0,0 +1 @@
+Flask>=2.3
diff --git a/static/icons/lotto-192.png b/static/icons/lotto-192.png
new file mode 100644
index 0000000000000000000000000000000000000000..793e31e0ee34984d75cdd41c06a9e7ed941807d7
GIT binary patch
literal 1129
zcmah|eN0nV6#u=~NBd|gJT?SGMyrBbA&fQxVMA#PED9l%fe8&`w6Hmx6Q|ppk}=-1
z@*Ss6h|%bL(JXOfnLvg>vP6m?Xhw{LicHb+VFH;7bOF+A*zT4s`)~0k_k8@$@1Aq+
zJ-Ll}xjU5d2sr>{*3Qg)qV2xTN{P&$*e3%RZC0jn*O3R$AL;fxtRc1U9@cQ{+R@c_
z*{q3csyUswl(A{Hci~aNM5yNC!uZ&p_O>etPRnr7;kQ_+upS@bEM<L(vGS>f_kMjp
zG8JPx0%a(xr!mqGVXhR0B`wrd9JuWPU{wrif@n<F15?K!EE-{0<^BolnR{UTjWGze
z<tYqDI0wx|GS^TeHOAwpkw9hwjlXiUTkMUBU~v2!@5n7@D%*sHYMB(FgM93tt>G|p
ze9_XV7TQFQX38YMu0}z>sSb9*-CZNfDdDcWyG~>&xH4d`M8(wWYb_*7I6ZSEco)r8
zh1#-7e`?C8#KH26A82(oo6i+1yVJ@pexAw*?)Uw=XhQy&9izGVVkVAiP}wq>r(h4s
zX!7J%1xbCX$*M%@d`3Gh{H(`q_RVtslk0L=(cml!CMw5I8-He2uO}B#AmuNwWvN-0
zb6sA1$5T0C8X#G^2gMT*{&*<<(r>EQE+@}@wjze{aWrV^LX$q2!fxaaiFFW6P<u+4
z%}BiPVszS+u6-U$PNV0=ITf#<F`zo>bJvzxV$ELlXZKS3JW^Kp&dE>&-p_w|b0L}i
zm-7E=v4GXr5<wXD3J%qQO2NxX{^L(}yaD%?TgN)Kg)0bnV8fHCo~RQ~V<%m6Q6~e1
zunz&DFq)c-sVq4?OGNYUNv$Q#av^ND<nC7+zL3@V^D~Zz;(Ju5#V^fP`oNi#<Z)rk
zrtz-Z<vap}RPRA{K#bHwYL|k0cAWP^A%*-Iiy!E6uNho}URO<c6;Pj5d9!_fyyqTq
z)_eE*9F0c~Zn&|R7JdXYE|mmF-LFo!(MX@KFvWl!;NSKXfqODwQG#}f^9v~i3$phG
zU0RoZLnkAc<W#M7Yfa0{c}H=G5Y3!dN53}O`55MajV?2-4e5(!TZa-luI(hl&ewgf
zYIEEvqjC%fBKliqnkUSOLKd5*=<l5Q_Hp4hp^;5%`rub*>ZPB8k-TxwZ!K2`AsAMd
zq2~DQq_8E36ud84gA806xq!;o4%i!Ooxrw8!RUrTT@7DY&8iTd8DvOeL>&%=SDk^Q
zbnzUOSKn7IF(~Cjk-~Bc`Ip1cO6&pH`cmUrMO#nrO2<eJo!}dA);qbGSJSPwzX7z3
Bbw>aI

literal 0
HcmV?d00001

diff --git a/static/icons/lotto-512.png b/static/icons/lotto-512.png
new file mode 100644
index 0000000000000000000000000000000000000000..8f7762057085a56d0a8e24945e6dedda6d129b71
GIT binary patch
literal 4069
zcmbVPU2Ggz6+UzKI-aJRdL}|-RHN>AEkR#U*D9!eXzH<<*2zo7Pt_+-RzV2yfD96X
zNF?^ecFaOH7<fXekbpdb_<I0ez-t*c4?I=vOM^shxj=+eSW79a!eaQobMNeKiz$?c
z)sE(#^PTVe&bfDHzWl*wmQI~~@T7>GI)5(zu!zB>k?;im?p}K7p2*bq&*uxzUb_9-
z?H}K`mPPr_>y7B0k$ft8$JbBCr_J@~xpOam;#sr%kJmo=(dq8*1Nq7OmP7)PP$W|@
zi9`xqS&<ZfZ@q;2Zzp_I<bOgRg=>+b`r>E5u>aFk3bX#Z=a(mqJp6di1Xh}Nt_7iV
zzINS2((J`HmCoL5m`Sm-6hX@RRtgzU*XCeV`^k$?mR$K21UK%rf(X|i*i0lS_9ths
zesk&~VmE6WxUSBJ08g$&6~qow3-JCz2=Lx|1aKq(e0OTmCGWjA)Ad3+{q=AN$aSlL
zp|s~)uq#=KOe&3|6l}lhQ4Xf+!?Fi|`OZWPlwO6%hm$#|>`swNw-!NXd!CueN(L&8
zqXIgcgMbPB3P1oz?gvvXlywOQQ%vaAG8;lu5g~asgGt9EyK3XfzS>yA-p>A`%YXmj
z<x0+)ANky?zYgl;F!$H*N=($`iytaN7ODO+WzF{X&SQUAa~07AWxslJE1?)$ys%W|
z-{Iey$;t-RB&%o=qucYFwHZf!cPnD_!Pfp#2w^CEXZC~@)9HV_9~;PS4sO6)Ex%bC
zJeQN&^vZ_RGfZ)H9!`>3w-!5Qz;n!iml_3{g-0H*MZCGAmH>uM!%(F)Usqb&hm$dB
z84f~(K{{9-ELhSyd<<R9U33%}!koeoDXnfTXKh4J)ieCH9SoZE3g!jT^l$-oX>Gu0
z?Nwb!R@oB3pv0suAgKa2zBVKjkmpGCr;!8+G>}TZcPuY&7gPvx*)8&7d6aOKZk4<^
zF3M{HX6B6MU>SPyW?r}{_$e>wcD$$?*4{6fcwT;iFm*-;pb<EET6-274P|ugiEsXU
zG&07`xWJ;0BF(m>$RCPMgZp?<+~mR=xQolcO~FsO-~8AgZ(sZESHz*E&ECY-G7VGh
z#RtU;XDVgkxxu1RKzZ4`5S9$zbE$uAsDJHCT=1A&C^2=uwKlr{RIz<301U^ed%>nA
zcUpS)2X>f&4PVN5#FTuHD@IxD#g86gTPVt{{&m+i91Dnbt!Qs!t8L^Qn`BjYh2a1)
zpZzEf&#=L&qH$E$E9|jtZJ`s;zy=9e07S5{{1q&pW!HTftJ;}<u*E5$??I~6*)Ps$
z-IuWi!1bOg_w$Z>C9-GFpiwNyNdTDb!zJ9$vvY(cdxs=uEI$}}rh8N)l+!3yui8!~
zU@iS=iMvAR=xPM(`FO!9v+jkI;CpkYOJ(DFN<QOy#*65E#c+-hV`P$;p<N^6;H(p)
zQs0`crh7{?siX_t$AOQ@_sm|er0+LRJY7d;&;hM&J>WRwl9SXi9Kr~82TgKSM#aj&
zBIIci_{JYE$TkNPtX1c{>%<reiifaB9|_8(dtvCz&^H{rIKm!5y7bQ7$3N$`Y0sNX
zUbV$PD~ts?s7l-%#De=R+`!{S2}VJ;7AVimCabs)fHKf(Af7s|vZ?;4R2-zHab!G=
z5w)DUr@23J0D&3~1E-M&TY^KaZbRkS!lqKja6rjvr8ousQf*%7z5t{xqQ(GLMh_B%
zsW@H?#@LCaa|qDgX=Sm~Q+YYYElgHCk01<ommMP`GtItoGnq|obz7x@$2Tr^eil2k
z<1CAQ{)<wxS?he-iOKYtr}z?(7&Pz)q!u6BG{A~qsAB^fdLHv>qb`W`(Y{QIw^V1;
zXr`RECP$JEX5G!_12cHo<17M>_*(!M{GdO@`RL?%9LVwKRgR;P<O9-i-XbF)M?T3x
zzCKdLW0nh4<;gdW7_D>;mUk_Y04OH2EeH7c8ZZba!&{gFcUb01)s3K+jH-@m=4O*g
z&N<ZZ12X1Zx8@kRc>&ep@Yad@1dKSwqzXDW=1V%Yz}I$)akid817>9N6&LOOBMe4}
z#%XOt8yyO=(GkQO6dn!g_M+@^R_olLw*Z4_>-45qEd_fkQrj4CH<`#JE1Yb+#rSi5
z1CLbLlNXU-0%N!x7W=+7A7B9_AjuuvLHkL=xkeIeM*(X)3B^8Z=S9-FgW7~?_MuyX
z^hDzx{s2=+u4wItqPgbXIrJ?q(ng<qJItcwGEWAZo@}3WOeeYzIi{7_E$p<G(3>b=
zn=nq~gD(iugCTGV*Bm^K1N#&sfk$G5fm>n%u(A-e|8qhZbb3r+@&i{V;}Ps4K2qKU
zYl{72VQ27CTk_bzR||RI^-=q`03P^)0S|mi1T=h0K4UjDgHd=dLziPoEr~E{Nn8{r
zWaT$p#upBj@yR4vwRv{|%Xm{3nIWKD#5a}^_QpyJtwI7UM*=#)1YQ>juVtaxTM$|6
z>>=4+-9d6_){z{+bsP}Y>e*1feL3xaK9$1k?BUDszkRR1;fpercj4t%FjsFYtzh_G
l`2VE2Vi^F8$ish{`19HRyI-F9*7LX_=bw5e|G{E&?O*M*Qw;zB

literal 0
HcmV?d00001

diff --git a/static/js/game.js b/static/js/game.js
index ee5c28c14783b2c13a8a8fab2b43d949a69ec21e..838d656c42d81312303249ab3829c686f508d5f6 100644
--- a/static/js/game.js
+++ b/static/js/game.js
@@ -1,76 +1,78 @@
 /* LottoLife Simulator 2.0 ‚Äî full-featured simulation */
 const $ = s => document.querySelector(s);
 const $$ = s => Array.from(document.querySelectorAll(s));
 const fmt = (n, opt={}) => Number(n||0).toLocaleString(undefined,{style:'currency',currency:'USD',maximumFractionDigits:opt.noCents?0:2});
 const clamp = (v,min,max)=>Math.max(min,Math.min(max,v));
 const STORAGE_KEY = 'lotto-life-save-v2';
 
 const start = (typeof window !== 'undefined' && window.GAME_START) ? window.GAME_START : {};
 
 const S = {
   wallet: Number(start.wallet || 0),
   savings: Number(start.savings || 0),
   debt: 0,
   net: Number(start.net || 0),
   state: start.state || '',
   goal: start.goal || '',
   playerName: start.playerName || 'Player',
   playerId: start.playerId || null,
+  playerEmail: start.playerEmail || '',
   profile: start.profile || 'balanced',
   payout: start.payout || 'lump',
   lifestylePref: start.lifestylePref || 'smart',
   taxPaid: Number(start.taxPaid || 0),
   startingAmount: Number(start.startingAmount || 0),
   day: Number(start.day || 1),
   happiness: 58,
   reputation: 0,
   highNet: Number(start.net || 0),
   showEvents: false,
   autoTimer: null,
   autoStep: 7,
   apy: 4.5,
   infl: 2.5,
   marketMood: 'Calm',
   eventBoost: 0,
   catalogs: {cars:[], houses:[], biz:[], charity:[], items:[]},
   cars: [],
   houses: [],
   businesses: [],
   charities: [],
   items: [],
   loans: [],
   ledger: [],
   timeline: [],
   stats: {biz:0,lifestyle:0,charity:0,events:0,interest:0,debt:0,tax:0},
   milestones: {},
   milestoneLog: [],
   achievements: {},
   lastNetPoints: [],
   goalValue: null,
   hadDebt: false,
   gameOverShown: false,
+  flags: {imported:false, emailed:false},
 };
 
 /* ================== Helpers ================== */
 function newId(){ return Math.random().toString(36).slice(2,10); }
 function goalToNumber(goal){
   if (!goal) return null;
   const digits = goal.replace(/[^0-9\.]/g,'');
   const val = parseFloat(digits);
   if (!isFinite(val) || val <= 0) return null;
   return val;
 }
 function sumAssets(){
   const cars = S.cars.reduce((a,c)=>a + (c.value||0),0);
   const houses = S.houses.reduce((a,h)=>a + (h.value||0),0);
   const items = S.items.reduce((a,i)=>a + (i.value||0),0);
   const biz = S.businesses.reduce((a,b)=> a + (b.ipo ? (b.shares||0)*10 : 0),0);
   return {cars,houses,items,biz,total:cars+houses+items+biz};
 }
 function sumLoans(){
   return S.loans.reduce((a,l)=>a + (l.principal||0),0);
 }
 function ensureLiquidity(){
   if (S.wallet >= 0) return;
   let shortage = -S.wallet;
   if (S.savings > 0){
@@ -85,194 +87,389 @@ function ensureLiquidity(){
     if (!S.loans.length){
       S.loans.push({id:newId(), principal:shortage, rate:0.08});
     } else {
       S.loans[0].principal += shortage;
     }
     S.wallet = 0;
     S.hadDebt = true;
   }
 }
 function marketSentiment(){
   const moods = ['Calm','Bullish','Frothy','Choppy','Bearish'];
   const idx = Math.floor(clamp((S.eventBoost*10)+2,0,moods.length-1));
   S.marketMood = moods[idx];
   $('#marketMood').textContent = S.marketMood;
 }
 function moodLabel(){
   const h = S.happiness;
   if (h >= 80) return 'Elated';
   if (h >= 60) return 'Balanced';
   if (h >= 40) return 'Uneasy';
   if (h >= 20) return 'Stressed';
   return 'Burnout';
 }
 
 /* ================== Persistence ================== */
+function buildSavePayload(){
+  return {
+    playerId: S.playerId,
+    playerName: S.playerName,
+    playerEmail: S.playerEmail,
+    state: S.state,
+    goal: S.goal,
+    startingAmount: S.startingAmount,
+    taxPaid: S.taxPaid,
+    profile: S.profile,
+    payout: S.payout,
+    lifestylePref: S.lifestylePref,
+    wallet: S.wallet,
+    savings: S.savings,
+    debt: S.debt,
+    net: S.net,
+    happiness: S.happiness,
+    reputation: S.reputation,
+    highNet: S.highNet,
+    day: S.day,
+    stats: S.stats,
+    lifestyle: S.lifestyle,
+    loans: S.loans,
+    cars: S.cars,
+    houses: S.houses,
+    businesses: S.businesses,
+    charities: S.charities,
+    items: S.items,
+    ledger: S.ledger.slice(0,120),
+    timeline: S.timeline.slice(0,120),
+    showEvents: S.showEvents,
+    apy: S.apy,
+    infl: S.infl,
+    goalValue: S.goalValue,
+    hadDebt: S.hadDebt,
+    milestoneLog: S.milestoneLog,
+    milestones: S.milestones,
+    achievements: S.achievements,
+    flags: S.flags,
+  };
+}
 function persistLocal(){
   try {
-    const payload = {
-      playerId: S.playerId,
-      wallet: S.wallet,
-      savings: S.savings,
-      debt: S.debt,
-      net: S.net,
-      happiness: S.happiness,
-      reputation: S.reputation,
-      highNet: S.highNet,
-      day: S.day,
-      stats: S.stats,
-      lifestyle: S.lifestyle,
-      loans: S.loans,
-      cars: S.cars,
-      houses: S.houses,
-      businesses: S.businesses,
-      charities: S.charities,
-      items: S.items,
-      ledger: S.ledger.slice(0,60),
-      timeline: S.timeline.slice(0,60),
-      showEvents: S.showEvents,
-      apy: S.apy,
-      infl: S.infl,
-      goalValue: S.goalValue,
-      hadDebt: S.hadDebt,
-      milestoneLog: S.milestoneLog,
-      achievements: S.achievements,
-    };
+    const payload = buildSavePayload();
     localStorage.setItem(STORAGE_KEY, JSON.stringify(payload));
   } catch(err){ console.warn('Persist error', err); }
 }
 function restoreLocal(){
   try {
     const raw = localStorage.getItem(STORAGE_KEY);
     if (!raw) return;
     const data = JSON.parse(raw);
     if (data.playerId && S.playerId && data.playerId !== S.playerId) return;
     Object.assign(S, {
       wallet: data.wallet ?? S.wallet,
       savings: data.savings ?? S.savings,
       debt: data.debt ?? S.debt,
       net: data.net ?? S.net,
       happiness: data.happiness ?? S.happiness,
       reputation: data.reputation ?? S.reputation,
       highNet: data.highNet ?? S.highNet,
       day: data.day ?? S.day,
       stats: {...S.stats, ...data.stats},
       lifestyle: data.lifestyle ? data.lifestyle : S.lifestyle,
       loans: data.loans ?? [],
       cars: data.cars ?? [],
       houses: data.houses ?? [],
       businesses: data.businesses ?? [],
       charities: data.charities ?? [],
       items: data.items ?? [],
-      ledger: data.ledger ?? [],
-      timeline: data.timeline ?? [],
+      ledger: Array.isArray(data.ledger) ? data.ledger : [],
+      timeline: Array.isArray(data.timeline) ? data.timeline : [],
       showEvents: data.showEvents ?? false,
       apy: data.apy ?? S.apy,
       infl: data.infl ?? S.infl,
       goalValue: data.goalValue ?? null,
       hadDebt: data.hadDebt ?? false,
-      milestoneLog: data.milestoneLog ?? [],
+      milestoneLog: Array.isArray(data.milestoneLog) ? data.milestoneLog : S.milestoneLog,
       achievements: data.achievements ?? {},
+      milestones: {...S.milestones, ...(data.milestones||{})},
+      playerEmail: data.playerEmail ?? S.playerEmail,
+      flags: {...S.flags, ...(data.flags||{})},
     });
     $('#evt').checked = S.showEvents;
   } catch(err){ console.warn('Restore error', err); }
 }
 
 /* ================== UI Wiring ================== */
 function setActive(tab){
   $$('nav a[data-tab]').forEach(a=>a.classList.remove('active'));
   const nav = $$('nav a[data-tab]').find(a=>a.dataset.tab===tab);
   if (nav) nav.classList.add('active');
   $$('.panel').forEach(p=>p.classList.remove('active'));
   const panel = $('#panel-' + tab);
   if (panel) panel.classList.add('active');
 }
 $$('nav a[data-tab]').forEach(a=>{
   a.addEventListener('click', e=>{ e.preventDefault(); setActive(a.dataset.tab); });
 });
 
 function toast(msg){
   const t = $('#toast');
   t.textContent = msg;
   t.classList.add('show');
   setTimeout(()=> t.classList.remove('show'), 2200);
 }
 
+function updateEmailUI(){
+  const input = $('#emailInput');
+  if (input && document.activeElement !== input){
+    input.value = S.playerEmail || '';
+  }
+  const status = $('#emailStatus');
+  if (status && S.playerEmail && /Resend API/.test(status.textContent)){
+    status.textContent = `Using ${S.playerEmail} for backups.`;
+  }
+}
+
+function setHelperText(id, text){
+  const el = $(id);
+  if (el){ el.textContent = text; }
+}
+
 function drawSpark(id, arr){
   const c = $('#'+id); if(!c) return;
   const ctx = c.getContext('2d');
   const w = c.width = c.clientWidth;
   const h = c.height = c.clientHeight;
   if (arr.length < 2){ ctx.clearRect(0,0,w,h); return; }
   const min = Math.min(...arr);
   const max = Math.max(...arr);
   const xs = i => (i/(arr.length-1))*w;
   const ys = v => h - ((v-min)/(max-min || 1))*h;
   ctx.clearRect(0,0,w,h);
   ctx.beginPath(); ctx.moveTo(xs(0), ys(arr[0]));
   for (let i=1;i<arr.length;i++) ctx.lineTo(xs(i), ys(arr[i]));
   ctx.strokeStyle = '#87b3ff'; ctx.lineWidth = 2; ctx.stroke();
 }
 
 function esc(s){ return (s||'').replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'}[m])); }
 
 /* ================== Lifestyle ================== */
 S.lifestyle = S.lifestyle || {burn: Math.max(40000, (S.net||S.startingAmount||1)*0.012), security:0, travel:25000, staff:30000};
 if (S.lifestylePref === 'modest'){ S.lifestyle.burn *= 0.6; S.lifestyle.travel = 8000; S.lifestyle.staff = 8000; }
 if (S.lifestylePref === 'lavish'){ S.lifestyle.burn *= 1.8; S.lifestyle.travel = 90000; S.lifestyle.staff = 120000; S.lifestyle.security = 50000; }
 
 function updateLifestyleUI(){
   $('#lifestyleBurn').value = Math.min(1500000, Math.max(10000, Math.round(S.lifestyle.burn/10000)*10000));
   $('#lifestyleBurnVal').textContent = fmt(S.lifestyle.burn,{noCents:true});
   $('#securityLevel').value = String(S.lifestyle.security||0);
   $('#travelLevel').value = String(S.lifestyle.travel||0);
   $('#staffLevel').value = String(S.lifestyle.staff||0);
   const monthly = S.lifestyle.burn + S.lifestyle.travel + S.lifestyle.security + S.lifestyle.staff;
   const summary = `You currently spend ${fmt(monthly,{noCents:true})} / month on living the dream.`;
   $('#lifestyleSummary').textContent = summary;
   S.eventBoost = (S.lifestyle.travel/120000) - (S.lifestyle.security/150000) + (S.lifestyle.burn/1000000);
   marketSentiment();
 }
 $('#lifestyleBurn').addEventListener('input', e=>{ S.lifestyle.burn = Number(e.target.value||0); updateLifestyleUI(); });
 $('#securityLevel').addEventListener('change', e=>{ S.lifestyle.security = Number(e.target.value||0); updateLifestyleUI(); });
 $('#travelLevel').addEventListener('change', e=>{ S.lifestyle.travel = Number(e.target.value||0); updateLifestyleUI(); });
 $('#staffLevel').addEventListener('change', e=>{ S.lifestyle.staff = Number(e.target.value||0); updateLifestyleUI(); });
 $('#lifePresetModest').addEventListener('click', ()=>{ S.lifestyle = {burn:40000,security:0,travel:6000,staff:8000}; updateLifestyleUI(); toast('Lifestyle set to modest.'); });
 $('#lifePresetBalanced').addEventListener('click', ()=>{ S.lifestyle = {burn:90000,security:15000,travel:25000,staff:30000}; updateLifestyleUI(); toast('Lifestyle set to balanced.'); });
 $('#lifePresetExtravagant').addEventListener('click', ()=>{ S.lifestyle = {burn:220000,security:50000,travel:90000,staff:120000}; updateLifestyleUI(); toast('Lifestyle set to extravagant!'); });
-$('#clearLocal').addEventListener('click', ()=>{ localStorage.removeItem(STORAGE_KEY); toast('Local save cleared.'); });
-$('#exportState').addEventListener('click', ()=>{
-  const blob = new Blob([JSON.stringify(snapshotForServer(), null, 2)], {type:'application/json'});
-  const url = URL.createObjectURL(blob);
-  const a = document.createElement('a');
-  a.href = url;
-  a.download = `lotto-life-${S.playerName.replace(/\s+/g,'_')||'player'}.json`;
-  document.body.appendChild(a);
-  a.click();
-  document.body.removeChild(a);
-  URL.revokeObjectURL(url);
+$('#clearLocal').addEventListener('click', ()=>{
+  localStorage.removeItem(STORAGE_KEY);
+  toast('Local save cleared.');
+  setHelperText('importStatus', 'Local autosave cleared. Export files remain safe.');
+});
+function applySnapshot(data, label='Imported save applied.'){
+  if (!data) return;
+  try {
+    S.wallet = Number(data.wallet ?? S.wallet);
+    S.savings = Number(data.savings ?? S.savings);
+    S.debt = Number(data.debt ?? S.debt);
+    S.net = Number(data.net ?? S.net);
+    S.happiness = Number(data.happiness ?? S.happiness);
+    S.reputation = Number(data.reputation ?? S.reputation);
+    S.highNet = Number(data.highNet ?? S.highNet);
+    S.day = Number(data.day ?? S.day);
+    S.stats = {...S.stats, ...(data.stats||{})};
+    S.lifestyle = {...S.lifestyle, ...(data.lifestyle||{})};
+    S.loans = data.loans ?? [];
+    S.cars = data.cars ?? [];
+    S.houses = data.houses ?? [];
+    S.businesses = data.businesses ?? [];
+    S.charities = data.charities ?? [];
+    S.items = data.items ?? [];
+    S.ledger = Array.isArray(data.ledger) ? data.ledger.slice(0,120) : S.ledger;
+    S.timeline = Array.isArray(data.timeline) ? data.timeline.slice(0,120) : S.timeline;
+    S.showEvents = data.showEvents ?? S.showEvents;
+    S.apy = data.apy ?? S.apy;
+    S.infl = data.infl ?? S.infl;
+    S.goalValue = data.goalValue ?? S.goalValue;
+    S.hadDebt = data.hadDebt ?? S.hadDebt;
+    S.milestones = {...S.milestones, ...(data.milestones||{})};
+    S.milestoneLog = Array.isArray(data.milestoneLog) ? data.milestoneLog.slice() : S.milestoneLog;
+    S.achievements = {...S.achievements, ...(data.achievements||{})};
+    S.flags = {...S.flags, ...(data.flags||{}), imported:true};
+    S.playerId = data.playerId || S.playerId;
+    S.playerName = data.playerName || S.playerName;
+    S.playerEmail = data.playerEmail || S.playerEmail;
+    S.state = data.state || S.state;
+    S.goal = data.goal ?? S.goal;
+    S.startingAmount = Number(data.startingAmount ?? S.startingAmount);
+    S.taxPaid = Number(data.taxPaid ?? S.taxPaid);
+    S.profile = data.profile || S.profile;
+    S.payout = data.payout || S.payout;
+    S.lifestylePref = data.lifestylePref || S.lifestylePref;
+    paintEverything();
+    persistLocal();
+    toast('Save imported!');
+    setHelperText('importStatus', label);
+    updateAchievements();
+  } catch(err){
+    console.error(err);
+    toast('Import failed');
+    setHelperText('importStatus', 'Import failed. Use an export from LottoLife.');
+  }
+}
+
+function exportSave(){
+  try {
+    const payload = buildSavePayload();
+    const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
+    const url = URL.createObjectURL(blob);
+    const a = document.createElement('a');
+    a.href = url;
+    const safeName = (S.playerName || 'player').replace(/\s+/g,'_');
+    a.download = `lotto-life-${safeName}.json`;
+    document.body.appendChild(a);
+    a.click();
+    document.body.removeChild(a);
+    URL.revokeObjectURL(url);
+    setHelperText('importStatus', 'Backup downloaded. Keep it safe!');
+  } catch(err){
+    console.error(err);
+    toast('Export failed');
+  }
+}
+['#exportState','#exportFromCard'].forEach(sel=>{
+  const btn = $(sel);
+  if (btn) btn.addEventListener('click', exportSave);
 });
+['#importBtn','#importFromCard'].forEach(sel=>{
+  const btn = $(sel);
+  if (btn) btn.addEventListener('click', ()=>{
+    const input = $('#importFile');
+    if (input){ input.click(); }
+  });
+});
+const importInput = $('#importFile');
+if (importInput){
+  importInput.addEventListener('change', evt=>{
+    const file = evt.target.files && evt.target.files[0];
+    if (!file) return;
+    const reader = new FileReader();
+    reader.onload = e=>{
+      try {
+        const data = JSON.parse(e.target.result);
+        applySnapshot(data, `Imported ${file.name}`);
+      } catch(err){
+        console.error(err);
+        toast('Import failed');
+        setHelperText('importStatus', 'Import failed. Use an export from LottoLife.');
+      }
+    };
+    reader.readAsText(file);
+    importInput.value = '';
+  });
+}
+const emailInput = $('#emailInput');
+if (emailInput){
+  emailInput.addEventListener('input', ()=>{ S.playerEmail = emailInput.value.trim(); });
+}
+const saveEmailBtn = $('#saveEmail');
+if (saveEmailBtn){
+  saveEmailBtn.addEventListener('click', ()=>{
+    const value = (emailInput ? emailInput.value : S.playerEmail || '').trim();
+    S.playerEmail = value;
+    updateEmailUI();
+    persistLocal();
+    if (value){
+      toast('Email saved!');
+      setHelperText('emailStatus', `Using ${value} for backups.`);
+    } else {
+      toast('Email cleared.');
+      setHelperText('emailStatus', 'Email cleared. Enter one to receive snapshots.');
+    }
+  });
+}
+const sendEmailBtn = $('#sendEmailBtn');
+if (sendEmailBtn){
+  sendEmailBtn.addEventListener('click', async ()=>{
+    const value = (emailInput ? emailInput.value : S.playerEmail || '').trim() || S.playerEmail;
+    if (!value){
+      toast('Enter an email first.');
+      setHelperText('emailStatus', 'Add an email above to send snapshots.');
+      return;
+    }
+    S.playerEmail = value;
+    updateEmailUI();
+    setHelperText('emailStatus', 'Sending snapshot via Resend...');
+    try {
+      const body = {
+        email: value,
+        player: {
+          Name: S.playerName,
+          State: S.state,
+          'Net Worth': fmt(S.net),
+          Day: S.day,
+          Reputation: Math.round(S.reputation)
+        },
+        stats: buildSavePayload()
+      };
+      const res = await fetch('/api/email', {
+        method:'POST',
+        headers:{'Content-Type':'application/json'},
+        body: JSON.stringify(body)
+      });
+      const data = await res.json();
+      if (data.ok){
+        toast('Email sent!');
+        S.flags.emailed = true;
+        setHelperText('emailStatus', `Snapshot sent to ${value}.`);
+        persistLocal();
+        updateAchievements();
+      } else {
+        toast('Email failed');
+        setHelperText('emailStatus', 'Email failed. Check your Resend API key.');
+      }
+    } catch(err){
+      console.error(err);
+      toast('Email failed');
+      setHelperText('emailStatus', 'Email failed. Check your Resend API key.');
+    }
+  });
+}
 $('#triggerEvent').addEventListener('click', ()=>{
   fireRandomEvent(true);
 });
 
 /* ================== Render Portfolio ================== */
 function paintTop(){
   const assets = sumAssets();
   S.debt = sumLoans();
   S.net = S.wallet + S.savings + assets.total - S.debt;
   if (S.net > S.highNet) S.highNet = S.net;
   S.lastNetPoints.push(S.net);
   if (S.lastNetPoints.length>60) S.lastNetPoints.shift();
 
   $('#playerName').textContent = S.playerName;
   $('#playerState').textContent = S.state || 'Unknown';
   $('#playerProfile').textContent = S.profile.replace(/\b\w/g,c=>c.toUpperCase());
   $('#playerGoal').textContent = S.goal || 'Set a dream in the start screen';
   $('#taxPaid').textContent = fmt(S.taxPaid,{noCents:true});
   $('#startAmt').textContent = fmt(S.startingAmount,{noCents:true});
   $('#moodLabel').textContent = moodLabel();
   $('#timeBadge').textContent = `Day ${S.day} ‚Ä¢ Year ${Math.max(1, Math.floor((S.day-1)/365)+1)}`;
 
   $('#kWallet').textContent = fmt(S.wallet);
   $('#kSavings').textContent = fmt(S.savings);
   $('#kAssets').textContent = fmt(assets.total);
@@ -295,50 +492,51 @@ function paintTop(){
 
   if (!S.goalValue && S.goal) S.goalValue = goalToNumber(S.goal);
   if (S.goalValue){
     const pct = clamp((S.net / S.goalValue) * 100, 0, 100);
     $('#goalProgress').style.setProperty('--pct', `${pct}%`);
     $('#goalTarget').textContent = fmt(S.goalValue,{noCents:true});
   } else {
     $('#goalProgress').style.setProperty('--pct', '0%');
     $('#goalTarget').textContent = '--';
   }
 
   drawSpark('spark', S.lastNetPoints);
   $('#statBiz').textContent = fmt(S.stats.biz);
   $('#statLifestyle').textContent = fmt(S.stats.lifestyle);
   $('#statCharity').textContent = fmt(S.stats.charity);
   $('#statEvents').textContent = fmt(S.stats.events);
   $('#statInterest').textContent = fmt(S.stats.interest);
   $('#statDebt').textContent = fmt(S.stats.debt);
 
   paintLedger();
   paintTimeline();
   paintAchievements();
   checkMilestones();
   paintMilestones();
   updateLifestyleUI();
+  updateEmailUI();
   persistLocal();
   checkGameOver();
 }
 
 function paintLedger(){
   const tb = $('#ledger tbody');
   if (!tb) return;
   tb.innerHTML = '';
   S.ledger.forEach((entry, idx)=>{
     const tr = document.createElement('tr');
     tr.innerHTML = `<td>${idx+1}</td><td>${entry.day}</td><td>${esc(entry.title)}</td><td class="right">${fmt(entry.dWallet)}</td><td class="right">${fmt(entry.dAssets)}</td><td class="right">${fmt(entry.net)}</td>`;
     tb.appendChild(tr);
   });
   if (!S.ledger.length){
     const tr = document.createElement('tr');
     tr.innerHTML = '<td colspan="6" class="empty">No activity yet. Try buying an asset or running time.</td>';
     tb.appendChild(tr);
   }
 }
 
 function paintTimeline(){
   const tb = $('#timelineBody'); if(!tb) return;
   tb.innerHTML='';
   S.timeline.forEach((entry, idx)=>{
     const tr = document.createElement('tr');
@@ -391,86 +589,108 @@ function log(title, dWallet=0, dAssets=0, options={}){
     case 'biz': S.stats.biz += dWallet; break;
     case 'lifestyle': S.stats.lifestyle += Math.abs(dWallet); break;
     case 'charity': S.stats.charity += Math.abs(dWallet); S.reputation += options.repGain||0; break;
     case 'events': S.stats.events += dWallet; break;
     case 'interest': S.stats.interest += dAssets || Math.max(0,dWallet); break;
     case 'debt': S.stats.debt += Math.abs(dWallet); break;
     case 'debtInterest': S.stats.debt += Math.abs(dWallet); break;
   }
   if (options.happinessDelta){ S.happiness = clamp(S.happiness + options.happinessDelta, 0, 100); }
   if (options.repDelta){ S.reputation = Math.max(0, S.reputation + options.repDelta); }
   paintTop();
 }
 function logEvent(title, dW=0, dA=0, options={}){
   log(title, dW, dA, options);
 }
 
 function recordMilestone(key, message){
   if (S.milestones[key]) return;
   S.milestones[key] = true;
   S.milestoneLog.push(message);
   toast(message);
 }
 function checkMilestones(){
   if (S.net >= 10_000_000) recordMilestone('net10', 'üéØ Net worth passed $10M!');
   if (S.highNet >= 50_000_000) recordMilestone('net50', 'ü•Ç High-water mark above $50M.');
+  if (S.highNet >= 100_000_000) recordMilestone('net100', 'üè¶ Entered the $100M club.');
+  if (S.highNet >= 500_000_000) recordMilestone('net500', 'üõ°Ô∏è Half-billion fortress secured.');
   if (S.stats.charity >= 2_000_000) recordMilestone('charity2m', '‚ù§Ô∏è Donated more than $2M to charity.');
   if (S.businesses.some(b=>b.ipo)) recordMilestone('ipo', 'üìà Took a business public.');
   if (S.day >= 365) recordMilestone('year', 'üìÜ Survived a full simulated year.');
   if (S.day >= 1000) recordMilestone('millennium', 'üèÖ Survived 1,000 days of high-roller life.');
   if (S.debt <= 0 && S.hadDebt) recordMilestone('debtZero', 'üí∏ Debt completely paid off.');
   if ((S.lifestyle.burn + S.lifestyle.travel + S.lifestyle.staff) > 300000) recordMilestone('baller', 'üíÉ Spending more than $300k per month on lifestyle.');
+  if (S.charities.length >= 3) recordMilestone('charityFleet', 'ü§ù Managing a portfolio of foundations.');
+  if (S.businesses.length >= 5) recordMilestone('bizEmpire', 'üè≠ Built a diversified business empire.');
 }
 
 function getAchievements(){
   return [
     {id:'firstBuy', title:'First Purchase', desc:'Acquire your first asset.'},
     {id:'tenMillion', title:'Eight-Figure Club', desc:'Reach $10M net worth.'},
     {id:'fiftyMillion', title:'Fifty-Million Milestone', desc:'Hit $50M high-water mark.'},
+    {id:'hundredMillion', title:'Nine-Zero King', desc:'Reach $100M net worth.'},
+    {id:'halfBillion', title:'Half-Billion Hero', desc:'Push your high-water mark past $500M.'},
     {id:'philanthropist', title:'Philanthropy Star', desc:'Donate $1M+ to charity.'},
+    {id:'charityChampion', title:'Charity Champion', desc:'Run three charities and give $5M total.'},
     {id:'mediaDarling', title:'Media Darling', desc:'Reach 100 reputation.'},
     {id:'ipo', title:'Ring the Bell', desc:'Take a company public.'},
+    {id:'bizMogul', title:'Boardroom Legend', desc:'Own five businesses with at least one IPO.'},
     {id:'survivor', title:'1000-Day Survivor', desc:'Survive 1,000 days without going broke.'},
     {id:'debtFree', title:'Debt Crusher', desc:'Clear all debt after borrowing.'},
     {id:'wentBroke', title:'Hard Reset', desc:'Experience a game over and keep going.'},
+    {id:'garageCollector', title:'Garage Goals', desc:'Own five or more vehicles.'},
+    {id:'estateTycoon', title:'Estate Tycoon', desc:'Own five or more properties.'},
+    {id:'jetSetter', title:'Jet Setter', desc:'Maintain max travel lifestyle for 90+ days.'},
+    {id:'importHero', title:'Time Traveler', desc:'Import a previous save file.'},
+    {id:'emailPro', title:'Inbox Guardian', desc:'Email yourself a snapshot.'},
   ];
 }
 function updateAchievements(){
   const ach = getAchievements();
   ach.forEach(a=>{
     if (S.achievements[a.id]) return;
     let earned = false;
     switch(a.id){
       case 'firstBuy': earned = (S.cars.length + S.houses.length + S.items.length + S.businesses.length)>0; break;
       case 'tenMillion': earned = S.net >= 10_000_000; break;
       case 'fiftyMillion': earned = S.highNet >= 50_000_000; break;
+      case 'hundredMillion': earned = S.highNet >= 100_000_000; break;
+      case 'halfBillion': earned = S.highNet >= 500_000_000; break;
       case 'philanthropist': earned = S.stats.charity >= 1_000_000; break;
+      case 'charityChampion': earned = S.charities.length >= 3 && S.stats.charity >= 5_000_000; break;
       case 'mediaDarling': earned = S.reputation >= 100; break;
       case 'ipo': earned = S.businesses.some(b=>b.ipo); break;
+      case 'bizMogul': earned = S.businesses.length >= 5 && S.businesses.some(b=>b.ipo); break;
       case 'survivor': earned = S.day >= 1000; break;
       case 'debtFree': earned = S.hadDebt && S.debt <= 0; break;
       case 'wentBroke': earned = S.gameOverShown; break;
+      case 'garageCollector': earned = S.cars.length >= 5; break;
+      case 'estateTycoon': earned = S.houses.length >= 5; break;
+      case 'jetSetter': earned = S.lifestyle.travel >= 90000 && S.day >= 90; break;
+      case 'importHero': earned = !!S.flags.imported; break;
+      case 'emailPro': earned = !!S.flags.emailed; break;
     }
     if (earned){
       S.achievements[a.id] = true;
       toast(`‚≠ê Achievement unlocked: ${a.title}`);
     }
   });
 }
 
 /* ================== Rendering Owned Assets ================== */
 function rowActionBtn(label, onclick, cls=''){ return `<button class="${cls}" onclick="${onclick}">${label}</button>`; }
 
 function paintGarage(){
   const tb = $('#garage tbody'); if(!tb) return;
   tb.innerHTML='';
   S.cars.forEach(c=>{
     const tr = document.createElement('tr');
     tr.innerHTML = `<td>${esc(c.name)}</td><td class="right">${fmt(c.value)}</td><td class="right">${fmt(c.maint_monthly)}</td><td>${rowActionBtn('Sell',`sellCar('${c.id}')`,'btn-danger')}</td>`;
     tb.appendChild(tr);
   });
   if (!S.cars.length){ tb.innerHTML = '<tr><td colspan="4" class="empty">No cars yet.</td></tr>'; }
 }
 function paintProps(){
   const tb = $('#props tbody'); if(!tb) return;
   tb.innerHTML='';
   S.houses.forEach(h=>{
@@ -522,68 +742,77 @@ async function loadCatalog(cat){
   if (!mount) return;
   $(mount).innerHTML = data.map(d=>renderStoreCard(cat,d)).join('');
 }
 function renderStoreCard(cat, d){
   const lines = {
     cars:[`Dep ${(d.dep_rate_annual*100).toFixed(1)}%/yr`,`Maint ${fmt(d.maint_monthly)}/mo`],
     houses:[`App ${(d.app_rate_annual*100).toFixed(1)}%/yr`,`Rent ${fmt(d.rent_monthly)}/mo`,`Tax ${(d.prop_tax_rate_annual*100).toFixed(2)}%/yr`,`Upkeep ${fmt(d.upkeep_monthly)}/mo`],
     biz:[`Emp ${d.employees} @ ${fmt(d.salary_per_employee_annual)}/yr`,`Rev ${fmt(d.weekly_revenue)}/wk`,`Margin ${(d.gross_margin*100).toFixed(0)}%`,`Fixed ${fmt(d.fixed_weekly_costs)}/wk`],
     charity:[`Monthly Spend ${fmt(d.monthly_drain)}`,`Reputation +${d.reputation}`],
     items:[`Rate ${(d.rate_annual*100).toFixed(1)}%/yr`,`Upkeep ${fmt(d.upkeep_monthly)}/mo`,d.volatility_monthly?`Vol ${(d.volatility_monthly*100).toFixed(0)}%/mo`:'' ]
   }[cat].filter(Boolean).join(' ‚Ä¢ ');
   return `<div class="storecard"><div class="flex" style="justify-content:space-between;align-items:flex-start"><div><div style="font-weight:800">${d.name}</div><div class="mini">${d.desc||''}</div><div class="mini" style="margin-top:6px;color:#b7c6e6">${lines}</div></div><div style="text-align:right"><div style="font-weight:800">${fmt(d.price)}</div><button class="primary" onclick="buy('${cat}','${encodeURIComponent(d.name)}')">Buy</button></div></div></div>`;
 }
 
 function purchaseOK(price){
   if (S.wallet < price){ toast('Not enough wallet funds.'); return false; }
   return true;
 }
 
 window.buy = function(cat, safeName){
   const name = decodeURIComponent(safeName);
   const d = (S.catalogs[cat]||[]).find(x=>x.name===name);
   if (!d) return;
   if (!purchaseOK(d.price)) return;
   S.wallet -= d.price;
+  let options = {tag:'lifestyle'};
+  if (cat==='cars'){
+    options.happinessDelta = 3;
+    options.repDelta = 1;
+  }
   if (cat==='cars'){
     S.cars.push({id:newId(),name:d.name,value:d.price,dep_rate_annual:d.dep_rate_annual,maint_monthly:d.maint_monthly});
     paintGarage();
   } else if (cat==='houses'){
     S.houses.push({id:newId(),name:d.name,value:d.price,app_rate_annual:d.app_rate_annual,rent_monthly:d.rent_monthly,prop_tax_rate_annual:d.prop_tax_rate_annual,upkeep_monthly:d.upkeep_monthly,rented:false});
     paintProps();
+    options.happinessDelta = (options.happinessDelta||0) + 2;
+    options.repDelta = (options.repDelta||0) + 2;
   } else if (cat==='biz'){
     S.businesses.push({id:newId(),name:d.name,employees:d.employees,salary_per_employee_annual:d.salary_per_employee_annual,weekly_revenue:d.weekly_revenue,gross_margin:d.gross_margin,fixed_weekly_costs:d.fixed_weekly_costs,growth_level:d.growth_level||1,ipo:false,shares:0,div_yield:0.02});
     paintCompanies();
+    options.repDelta = (options.repDelta||0) + 4;
   } else if (cat==='charity'){
     S.charities.push({id:newId(),name:d.name,monthly_drain:d.monthly_drain,reputation:d.reputation});
-    S.reputation += d.reputation;
     paintCharities();
+    options = {tag:'charity', repGain:d.reputation, happinessDelta:5};
   } else if (cat==='items'){
     S.items.push({id:newId(),name:d.name,value:d.price,rate_annual:d.rate_annual,upkeep_monthly:d.upkeep_monthly,volatility_monthly:d.volatility_monthly||0});
     paintItems();
+    options.happinessDelta = (options.happinessDelta||0) + 2;
   }
-  log(`Bought ${d.name} (${cat})`, -d.price, +d.price, {tag:'lifestyle'});
+  log(`Bought ${d.name} (${cat})`, -d.price, +d.price, options);
   updateAchievements();
 };
 
 window.toggleRent = function(id){
   const h = S.houses.find(x=>x.id===id); if(!h) return;
   h.rented = !h.rented;
   log(`${h.name}: set ${h.rented?'For Rent':'Personal Use'}`,0,0,{timeline:false});
   paintProps(); paintTop();
 };
 window.sellCar = function(id){
   const idx = S.cars.findIndex(x=>x.id===id); if(idx<0) return;
   const car = S.cars[idx];
   const market = 0.9 + Math.random()*0.2;
   const price = car.value * market;
   S.cars.splice(idx,1);
   log(`Sold ${car.name}`, +price, -car.value);
   paintGarage();
 };
 window.sellHouse = function(id){
   const idx = S.houses.findIndex(x=>x.id===id); if(idx<0) return;
   const house = S.houses[idx];
   const market = 0.85 + Math.random()*0.25;
   const price = house.value * market;
   S.houses.splice(idx,1);
   log(`Sold ${house.name}`, +price, -house.value);
@@ -703,86 +932,95 @@ function applyItems(days){
       for (let i=0;i<m;i++){ const swing = (Math.random()*2-1)*it.volatility_monthly; it.value *= (1+swing); }
     }
     dA += (it.value - old);
     dW -= (it.upkeep_monthly/30)*days;
   });
   if (dA || dW) logEvent(`Investments: market drift (${days}d)`, dW, dA, {tag:'events'});
 }
 function applyBizWeek(){
   let dW = 0;
   S.businesses.forEach(b=>{
     const payroll = (b.employees * b.salary_per_employee_annual)/52;
     const grossProfit = b.weekly_revenue * b.gross_margin;
     let net = grossProfit - payroll - b.fixed_weekly_costs;
     if (b.ipo && b.shares>0){
       const yearly = b.shares*10*b.div_yield;
       net += yearly/52;
     }
     dW += net;
     b.weekly_revenue *= 1.0015;
   });
   if (dW) logEvent('Businesses: weekly operations', dW, 0, {tag:'biz'});
 }
 function applyCharityMonth(){
   let dW = 0;
   S.charities.forEach(c=> dW -= c.monthly_drain);
-  if (dW) logEvent('Charities: monthly programs', dW, 0, {tag:'charity', repGain:Math.sign(-dW)*2});
+  if (S.charities.length === 0){
+    S.reputation = Math.max(0, S.reputation - 0.5);
+  }
+  if (dW) logEvent('Charities: monthly programs', dW, 0, {tag:'charity', repGain:Math.max(1, S.charities.length * 1.5)});
 }
 function applyLifestyle(days){
   const monthly = S.lifestyle.burn + S.lifestyle.travel + S.lifestyle.security + S.lifestyle.staff;
   const spend = (monthly/30) * days;
   if (spend) logEvent(`Lifestyle spending (${days}d)`, -spend, 0, {tag:'lifestyle', happinessDelta: (monthly/150000 - S.debt/1000000) * (days/30)});
 }
 function applyDebtInterest(days){
   if (!S.loans.length) return;
   const months = days/30;
   let total = 0;
   S.loans.forEach(loan=>{
     if (loan.principal<=0) return;
     const interest = loan.principal * (loan.rate/12) * months;
     if (interest){
       S.wallet -= interest;
       total += interest;
     }
   });
   if (total) logEvent(`Debt interest (${days}d)`, -total, 0, {tag:'debtInterest', happinessDelta:-Math.min(5, total/500000)});
   ensureLiquidity();
 }
 
 const EVENT_POOL = [
   () => ({title:'Market boom üìà', dW:0, dA:sumAssets().items*0.04, tag:'events', happinessDelta:+2}),
   () => ({title:'Market dip üìâ', dW:0, dA:-sumAssets().items*0.05, tag:'events', happinessDelta:-2}),
   () => ({title:'Luxury party üéâ cost', dW:-25000 - S.lifestyle.burn*0.1, dA:0, tag:'lifestyle', happinessDelta:+3}),
   () => ({title:'Storm repair üåÄ', dW:-20000, dA:0, tag:'events', happinessDelta:-2}),
   () => ({title:'Business surge üöÄ', dW:+8000, dA:0, tag:'biz', happinessDelta:+1}),
   () => ({title:'Art auction win üñºÔ∏è', dW:-60000, dA:+50000, tag:'events', happinessDelta:+2}),
   () => ({title:'Viral donation ‚ù§Ô∏è', dW:-50000, dA:0, tag:'charity', repDelta:+12, happinessDelta:+4}),
   () => ({title:'Medical bill ü©∫', dW:-18000, dA:0, tag:'events', happinessDelta:-3}),
   () => ({title:'Market scandal üò¨', dW:-12000, dA:-sumAssets().biz*0.03, tag:'events', happinessDelta:-2}),
   () => ({title:'Security scare üö® prevented', dW: S.lifestyle.security? -S.lifestyle.security*0.5 : -15000, dA:0, tag:'events', happinessDelta: S.lifestyle.security? +1:-3}),
   () => ({title:'TV interview üì∫', dW:0, dA:0, tag:'events', repDelta:+8, happinessDelta:+2}),
-  () => ({title:'Travel upgrade ‚úàÔ∏è', dW:-12000-S.lifestyle.travel*0.05, dA:0, tag:'lifestyle', happinessDelta:+2})
+  () => ({title:'Travel upgrade ‚úàÔ∏è', dW:-12000-S.lifestyle.travel*0.05, dA:0, tag:'lifestyle', happinessDelta:+2}),
+  () => ({title:'Charity gala üíÉ', dW:-75000, dA:0, tag:'charity', repDelta:+15, happinessDelta:+3}),
+  () => ({title:'Real estate rally üè†', dW:0, dA:sumAssets().houses*0.06, tag:'events', happinessDelta:+2}),
+  () => ({title:'Social media backlash üì±', dW:-35000, dA:0, tag:'events', repDelta:-10, happinessDelta:-4}),
+  () => ({title:'Angel investment pop üí°', dW:+45000, dA:+sumAssets().items*0.03, tag:'biz', happinessDelta:+1}),
+  () => ({title:'Luxury burnout üòµ', dW:0, dA:0, tag:'lifestyle', happinessDelta:-5, repDelta:-4}),
+  () => ({title:'Global award spotlight üèÜ', dW:-10000, dA:0, tag:'events', repDelta:+20, happinessDelta:+4})
 ];
 function fireRandomEvent(forced=false){
   const event = EVENT_POOL[Math.floor(Math.random()*EVENT_POOL.length)]();
   if (!forced && S.lifestyle.security>=50000 && event.title.includes('scare') && Math.random()<0.5){
     logEvent('Security team diffused a threat üõ°Ô∏è', -S.lifestyle.security*0.05, 0, {tag:'lifestyle', happinessDelta:+1});
     return;
   }
   logEvent(`Event: ${event.title}`, event.dW, event.dA, {tag:event.tag||'events', happinessDelta:event.happinessDelta||0, repDelta:event.repDelta||0});
 }
 function randomEvents(days){
   if (!S.showEvents) return;
   for (let i=0;i<days;i++){
     const baseChance = clamp(0.08 + S.eventBoost*0.1, 0.02, 0.35);
     if (Math.random()<baseChance){ fireRandomEvent(false); }
   }
 }
 
 function applyLoansReduction(amount){
   let left = amount;
   for (const loan of S.loans){
     if (left<=0) break;
     const pay = Math.min(left, loan.principal);
     loan.principal -= pay;
     left -= pay;
   }
@@ -934,37 +1172,38 @@ $('#saveLeaderboard').addEventListener('click', async () => {
     toast('Could not update leaderboard.');
   }
 });
 
 /* ================== Confetti ================== */
 function confetti(){
   const canv = $('#confetti'); if(!canv) return; const ctx = canv.getContext('2d');
   const W = canv.width = window.innerWidth; const H = canv.height = window.innerHeight;
   const pieces = Array.from({length:160},()=>({x:Math.random()*W,y:Math.random()*-H,vx:(Math.random()-0.5)*2,vy:2+Math.random()*3,sz:4+Math.random()*6,col:`hsl(${Math.random()*360},90%,60%)`}));
   let frames=0;
   (function loop(){
     ctx.clearRect(0,0,W,H);
     pieces.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; if(p.y>H){ p.y=-10; p.x=Math.random()*W; } ctx.fillStyle=p.col; ctx.fillRect(p.x,p.y,p.sz,p.sz); });
     frames++; if(frames<150) requestAnimationFrame(loop); else ctx.clearRect(0,0,W,H);
   })();
 }
 
 /* ================== Init ================== */
 function paintEverything(){
   paintGarage(); paintProps(); paintCompanies(); paintCharities(); paintItems();
   updateAchievements();
   paintTop();
 }
 
 restoreLocal();
+updateEmailUI();
 Promise.all([
   loadCatalog('cars'),
   loadCatalog('houses'),
   loadCatalog('biz'),
   loadCatalog('charity'),
   loadCatalog('items')
 ]).then(()=>{
   if (!S.ledger.length) log('Game ready. Buy assets to begin!',0,0,{timeline:false});
   paintEverything();
 });
 
 window.addEventListener('beforeunload', ()=>{ if (S.autoTimer) clearInterval(S.autoTimer); persistLocal(); });
diff --git a/static/js/sw.js b/static/js/sw.js
new file mode 100644
index 0000000000000000000000000000000000000000..a63ab063e9af3682b7249fa60ab67ef94fbbdfff
--- /dev/null
+++ b/static/js/sw.js
@@ -0,0 +1,41 @@
+const CACHE_NAME = 'lotto-life-v3';
+const CORE_ASSETS = [
+  '/',
+  '/start',
+  '/game',
+  '/leaderboard',
+  '/guide',
+  '/static/js/game.js',
+  '/static/manifest.json'
+];
+
+self.addEventListener('install', event => {
+  event.waitUntil(
+    caches.open(CACHE_NAME).then(cache => cache.addAll(CORE_ASSETS)).catch(() => null)
+  );
+});
+
+self.addEventListener('activate', event => {
+  event.waitUntil(
+    caches.keys().then(keys => Promise.all(keys.map(key => {
+      if (key !== CACHE_NAME) {
+        return caches.delete(key);
+      }
+    })))
+  );
+});
+
+self.addEventListener('fetch', event => {
+  const { request } = event;
+  if (request.method !== 'GET') return;
+  event.respondWith(
+    caches.match(request).then(cacheRes => {
+      const fetchPromise = fetch(request).then(networkRes => {
+        const clone = networkRes.clone();
+        caches.open(CACHE_NAME).then(cache => cache.put(request, clone));
+        return networkRes;
+      }).catch(() => cacheRes);
+      return cacheRes || fetchPromise;
+    })
+  );
+});
diff --git a/static/json/biz.json b/static/json/biz.json
index e20a41a432b0a1a084f027432693b8599eb998b2..1859b580989096a343650983cd601ff5098f1fba 100644
--- a/static/json/biz.json
+++ b/static/json/biz.json
@@ -97,27 +97,115 @@
     "fixed_weekly_costs": 130000,
     "growth_level": 3,
     "desc": "Subscription media app with global audience."
   },
   {
     "name": "Space Tourism Startup",
     "price": 18500000,
     "employees": 60,
     "salary_per_employee_annual": 175000,
     "weekly_revenue": 680000,
     "gross_margin": 0.3,
     "fixed_weekly_costs": 240000,
     "growth_level": 4,
     "desc": "Send thrill-seekers to the edge of orbit."
   },
   {
     "name": "Esports Arena Network",
     "price": 3200000,
     "employees": 18,
     "salary_per_employee_annual": 80000,
     "weekly_revenue": 95000,
     "gross_margin": 0.48,
     "fixed_weekly_costs": 28000,
     "growth_level": 2,
     "desc": "Hosts tournaments and brand activations worldwide."
+  },
+  {
+    "name": "Luxury Wellness Spa Group",
+    "price": 2800000,
+    "employees": 35,
+    "salary_per_employee_annual": 68000,
+    "weekly_revenue": 105000,
+    "gross_margin": 0.5,
+    "fixed_weekly_costs": 38000,
+    "growth_level": 2,
+    "desc": "High-end spa retreats with memberships and product lines."
+  },
+  {
+    "name": "AI Robotics Lab",
+    "price": 14000000,
+    "employees": 60,
+    "salary_per_employee_annual": 165000,
+    "weekly_revenue": 520000,
+    "gross_margin": 0.46,
+    "fixed_weekly_costs": 210000,
+    "growth_level": 4,
+    "desc": "Build automation bots for warehouses and hospitals."
+  },
+  {
+    "name": "Premier Sports Franchise Stake",
+    "price": 22000000,
+    "employees": 150,
+    "salary_per_employee_annual": 90000,
+    "weekly_revenue": 980000,
+    "gross_margin": 0.38,
+    "fixed_weekly_costs": 460000,
+    "growth_level": 4,
+    "desc": "Minority ownership in a pro sports team with media upside."
+  },
+  {
+    "name": "Global Logistics Drone Fleet",
+    "price": 6500000,
+    "employees": 48,
+    "salary_per_employee_annual": 95000,
+    "weekly_revenue": 260000,
+    "gross_margin": 0.42,
+    "fixed_weekly_costs": 110000,
+    "growth_level": 3,
+    "desc": "Autonomous deliveries for pharma and luxury goods."
+  },
+  {
+    "name": "Sustainable Energy Farms",
+    "price": 7200000,
+    "employees": 40,
+    "salary_per_employee_annual": 85000,
+    "weekly_revenue": 300000,
+    "gross_margin": 0.37,
+    "fixed_weekly_costs": 125000,
+    "growth_level": 3,
+    "desc": "Hybrid solar and wind farms with long-term utility contracts."
+  },
+  {
+    "name": "Immersive VR Theme Park",
+    "price": 9500000,
+    "employees": 120,
+    "salary_per_employee_annual": 78000,
+    "weekly_revenue": 410000,
+    "gross_margin": 0.43,
+    "fixed_weekly_costs": 190000,
+    "growth_level": 3,
+    "desc": "Cutting-edge VR experiences plus esports training academy."
+  },
+  {
+    "name": "Streaming Content Studio",
+    "price": 5400000,
+    "employees": 55,
+    "salary_per_employee_annual": 95000,
+    "weekly_revenue": 240000,
+    "gross_margin": 0.48,
+    "fixed_weekly_costs": 90000,
+    "growth_level": 3,
+    "desc": "Produces originals for major platforms with lucrative deals."
+  },
+  {
+    "name": "Premium Podcast Network",
+    "price": 1800000,
+    "employees": 22,
+    "salary_per_employee_annual": 65000,
+    "weekly_revenue": 68000,
+    "gross_margin": 0.55,
+    "fixed_weekly_costs": 18000,
+    "growth_level": 2,
+    "desc": "Ad-supported pods plus subscription community extras."
   }
 ]
diff --git a/static/json/cars.json b/static/json/cars.json
index d10c04587c5eeef78a4a114f829051be8d2d596a..b0baf1844f7cb4a660d209ed79800c3a1dde85f1 100644
--- a/static/json/cars.json
+++ b/static/json/cars.json
@@ -64,27 +64,115 @@
     "desc": "Hypercar; extreme costs."
   },
   {
     "name": "Lucid Air Sapphire",
     "price": 250000,
     "dep_rate_annual": 0.12,
     "maint_monthly": 180,
     "class": "ev",
     "desc": "Flagship EV with breathtaking acceleration."
   },
   {
     "name": "Mercedes-Maybach GLS",
     "price": 190000,
     "dep_rate_annual": 0.16,
     "maint_monthly": 420,
     "class": "luxury",
     "desc": "SUV palace with champagne fridge and massaging seats."
   },
   {
     "name": "Rivian Adventure Van",
     "price": 98000,
     "dep_rate_annual": 0.13,
     "maint_monthly": 210,
     "class": "adventure",
     "desc": "Electric expedition van for coast-to-coast road trips."
+  },
+  {
+    "name": "Ferrari SF90 Stradale",
+    "price": 520000,
+    "dep_rate_annual": 0.19,
+    "maint_monthly": 2200,
+    "class": "supercar",
+    "desc": "Hybrid hypercar that screams on the track."
+  },
+  {
+    "name": "Porsche 911 GT3 RS",
+    "price": 245000,
+    "dep_rate_annual": 0.14,
+    "maint_monthly": 420,
+    "class": "performance",
+    "desc": "Track weapon with street manners."
+  },
+  {
+    "name": "Bentley Bentayga EWB",
+    "price": 310000,
+    "dep_rate_annual": 0.16,
+    "maint_monthly": 650,
+    "class": "ultra-luxury",
+    "desc": "Extended wheelbase luxury SUV for VIP travel."
+  },
+  {
+    "name": "GMC Hummer EV",
+    "price": 112000,
+    "dep_rate_annual": 0.15,
+    "maint_monthly": 260,
+    "class": "ev",
+    "desc": "Electric beast with crab-walk party tricks."
+  },
+  {
+    "name": "Tesla Cybertruck",
+    "price": 89000,
+    "dep_rate_annual": 0.12,
+    "maint_monthly": 140,
+    "class": "ev",
+    "desc": "Futuristic stainless-steel utility truck."
+  },
+  {
+    "name": "Rolls-Royce Spectre",
+    "price": 420000,
+    "dep_rate_annual": 0.15,
+    "maint_monthly": 950,
+    "class": "ultra-luxury",
+    "desc": "Electric grand tourer with silent opulence."
+  },
+  {
+    "name": "Pagani Huayra Roadster",
+    "price": 3400000,
+    "dep_rate_annual": 0.18,
+    "maint_monthly": 9000,
+    "class": "hypercar",
+    "desc": "Automotive art with a handcrafted V12."
+  },
+  {
+    "name": "Aston Martin Valkyrie",
+    "price": 3200000,
+    "dep_rate_annual": 0.2,
+    "maint_monthly": 8500,
+    "class": "hypercar",
+    "desc": "Street-legal F1 technology for the bold."
+  },
+  {
+    "name": "Classic Mustang Restomod",
+    "price": 180000,
+    "dep_rate_annual": 0.08,
+    "maint_monthly": 380,
+    "class": "collector",
+    "desc": "1967 fastback rebuilt with modern tech."
+  },
+  {
+    "name": "Mercedes Sprinter Executive Coach",
+    "price": 165000,
+    "dep_rate_annual": 0.13,
+    "maint_monthly": 400,
+    "class": "limo",
+    "desc": "Mobile boardroom with lounge seating."
+  },
+  {
+    "name": "McLaren 765LT",
+    "price": 382000,
+    "dep_rate_annual": 0.18,
+    "maint_monthly": 1700,
+    "class": "supercar",
+    "desc": "Limited-run lightweight rocket built for the circuit."
   }
 ]
diff --git a/static/json/charity.json b/static/json/charity.json
index 7ab081ac24492552a9c54c90bcc3e738f96814e1..a783a185b5640f52d851b212642471fcf7991c73 100644
--- a/static/json/charity.json
+++ b/static/json/charity.json
@@ -39,27 +39,83 @@
     "price": 300000,
     "monthly_drain": 20000,
     "reputation": 18,
     "desc": "Construct rural schools."
   },
   {
     "name": "Mental Wellness Coalition",
     "price": 150000,
     "monthly_drain": 12000,
     "reputation": 14,
     "desc": "Counseling access and hotlines worldwide."
   },
   {
     "name": "Green Cities Challenge",
     "price": 400000,
     "monthly_drain": 23000,
     "reputation": 17,
     "desc": "Urban tree planting and climate tech pilots."
   },
   {
     "name": "Space STEM Lab",
     "price": 600000,
     "monthly_drain": 28000,
     "reputation": 22,
     "desc": "Inspires students with space exploration grants."
+  },
+  {
+    "name": "Disaster Response Corps",
+    "price": 450000,
+    "monthly_drain": 26000,
+    "reputation": 21,
+    "desc": "Deploy rapid relief teams when hurricanes or wildfires hit."
+  },
+  {
+    "name": "Global Water Network",
+    "price": 380000,
+    "monthly_drain": 22000,
+    "reputation": 19,
+    "desc": "Build sustainable wells and filtration systems."
+  },
+  {
+    "name": "Arts & Culture Endowment",
+    "price": 275000,
+    "monthly_drain": 16000,
+    "reputation": 16,
+    "desc": "Keep museums and youth arts programs thriving."
+  },
+  {
+    "name": "Veterans Housing Trust",
+    "price": 520000,
+    "monthly_drain": 24000,
+    "reputation": 20,
+    "desc": "Permanent supportive housing for veterans and their families."
+  },
+  {
+    "name": "Digital Literacy Bus",
+    "price": 220000,
+    "monthly_drain": 12000,
+    "reputation": 14,
+    "desc": "Mobile labs teaching tech skills in underserved communities."
+  },
+  {
+    "name": "Women‚Äôs Health Initiative",
+    "price": 410000,
+    "monthly_drain": 21000,
+    "reputation": 18,
+    "desc": "Maternal care, research grants, and accessible clinics."
+  },
+  {
+    "name": "Indigenous Land Trust",
+    "price": 670000,
+    "monthly_drain": 30000,
+    "reputation": 24,
+    "desc": "Support sovereignty, conservation, and cultural preservation."
+  },
+  {
+    "name": "Emergency Scholarship Fund",
+    "price": 150000,
+    "monthly_drain": 9000,
+    "reputation": 12,
+    "desc": "Keeps first-generation students enrolled during financial shocks."
   }
 ]
diff --git a/static/json/houses.json b/static/json/houses.json
index f4a2db4dd7611c995d196c06aaf25a0b90150381..a1d4689671bcf906a87628d1f3eba3571a9f25be 100644
--- a/static/json/houses.json
+++ b/static/json/houses.json
@@ -57,27 +57,99 @@
     "name": "Mediterranean Villa",
     "price": 7200000,
     "app_rate_annual": 0.045,
     "rent_monthly": 32000,
     "prop_tax_rate_annual": 0.013,
     "upkeep_monthly": 7800,
     "desc": "Cliffside escape with infinity pools and a helipad."
   },
   {
     "name": "Ski Resort Chalet",
     "price": 2900000,
     "app_rate_annual": 0.038,
     "rent_monthly": 21000,
     "prop_tax_rate_annual": 0.011,
     "upkeep_monthly": 6200,
     "desc": "Luxury chalet with year-round rental demand."
   },
   {
     "name": "Eco Smart Home",
     "price": 950000,
     "app_rate_annual": 0.03,
     "rent_monthly": 6800,
     "prop_tax_rate_annual": 0.009,
     "upkeep_monthly": 1400,
     "desc": "Net-zero property with solar roof and battery backup."
+  },
+  {
+    "name": "Urban Creative Loft",
+    "price": 850000,
+    "app_rate_annual": 0.032,
+    "rent_monthly": 7200,
+    "prop_tax_rate_annual": 0.010,
+    "upkeep_monthly": 1200,
+    "desc": "Downtown live/work loft with rooftop deck and studio space."
+  },
+  {
+    "name": "Beachfront Compound",
+    "price": 5200000,
+    "app_rate_annual": 0.044,
+    "rent_monthly": 42000,
+    "prop_tax_rate_annual": 0.013,
+    "upkeep_monthly": 9800,
+    "desc": "Three-villa complex with private beach club."
+  },
+  {
+    "name": "Dubai Sky Penthouse",
+    "price": 8600000,
+    "app_rate_annual": 0.05,
+    "rent_monthly": 55000,
+    "prop_tax_rate_annual": 0.012,
+    "upkeep_monthly": 15000,
+    "desc": "Triple-level penthouse with infinity pool overlooking the Palm."
+  },
+  {
+    "name": "Tokyo Micro Tower",
+    "price": 2100000,
+    "app_rate_annual": 0.04,
+    "rent_monthly": 16000,
+    "prop_tax_rate_annual": 0.009,
+    "upkeep_monthly": 4200,
+    "desc": "Smart tower of micro apartments‚Äîperfect rental yield play."
+  },
+  {
+    "name": "Private Island Retreat",
+    "price": 12500000,
+    "app_rate_annual": 0.052,
+    "rent_monthly": 95000,
+    "prop_tax_rate_annual": 0.014,
+    "upkeep_monthly": 22000,
+    "desc": "Own the whole island with dock, villas, and staff quarters."
+  },
+  {
+    "name": "Safari Lodge Portfolio",
+    "price": 4800000,
+    "app_rate_annual": 0.042,
+    "rent_monthly": 36000,
+    "prop_tax_rate_annual": 0.011,
+    "upkeep_monthly": 8700,
+    "desc": "Eco-lodges on a private reserve‚Äîhigh-end adventure rentals."
+  },
+  {
+    "name": "Mountain Ranch Retreat",
+    "price": 2750000,
+    "app_rate_annual": 0.036,
+    "rent_monthly": 18500,
+    "prop_tax_rate_annual": 0.010,
+    "upkeep_monthly": 5200,
+    "desc": "Horse stables, guest cabins, and helipad in the Rockies."
+  },
+  {
+    "name": "Tiny Home Village",
+    "price": 1650000,
+    "app_rate_annual": 0.034,
+    "rent_monthly": 12800,
+    "prop_tax_rate_annual": 0.009,
+    "upkeep_monthly": 3100,
+    "desc": "Cluster of designer tiny homes perfect for short-term rentals."
   }
 ]
diff --git a/static/json/items.json b/static/json/items.json
index f7f3b156f56554184a30c3a11c640c25bef34f31..510eb5d9cb99f081e73692cbd67a10e01b661c4a 100644
--- a/static/json/items.json
+++ b/static/json/items.json
@@ -72,27 +72,99 @@
     "desc": "Cinematic living room."
   },
   {
     "name": "Classic Car Collection",
     "price": 950000,
     "rate_annual": 0.03,
     "upkeep_monthly": 1500,
     "volatility_monthly": 0.05,
     "desc": "Garage of collectibles that may spike in value."
   },
   {
     "name": "Vineyard Investment",
     "price": 550000,
     "rate_annual": 0.025,
     "upkeep_monthly": 4500,
     "volatility_monthly": 0.04,
     "desc": "Bottles your own label; seasonal swings."
   },
   {
     "name": "Metaverse Studio",
     "price": 350000,
     "rate_annual": 0.05,
     "upkeep_monthly": 1800,
     "volatility_monthly": 0.12,
     "desc": "Virtual world builds; trend-sensitive."
+  },
+  {
+    "name": "Private Chef Retainer",
+    "price": 180000,
+    "rate_annual": -0.15,
+    "upkeep_monthly": 14000,
+    "volatility_monthly": 0,
+    "desc": "Culinary team on call for every party and trip."
+  },
+  {
+    "name": "Rare Whiskey Collection",
+    "price": 220000,
+    "rate_annual": 0.045,
+    "upkeep_monthly": 250,
+    "volatility_monthly": 0.06,
+    "desc": "Limited casks aging gracefully in climate control."
+  },
+  {
+    "name": "Luxury Sneaker Vault",
+    "price": 75000,
+    "rate_annual": 0.035,
+    "upkeep_monthly": 120,
+    "volatility_monthly": 0.08,
+    "desc": "Numbered drops stored for appreciation and flex."
+  },
+  {
+    "name": "Helicopter Purchase",
+    "price": 2100000,
+    "rate_annual": -0.11,
+    "upkeep_monthly": 28000,
+    "volatility_monthly": 0.02,
+    "desc": "Twin-engine chopper plus hangar and pilot costs."
+  },
+  {
+    "name": "Angel Investment Fund",
+    "price": 1000000,
+    "rate_annual": 0.12,
+    "upkeep_monthly": 0,
+    "volatility_monthly": 0.2,
+    "desc": "Diversified stakes in 25 early-stage startups."
+  },
+  {
+    "name": "Space Exploration ETF",
+    "price": 300000,
+    "rate_annual": 0.09,
+    "upkeep_monthly": 0,
+    "volatility_monthly": 0.16,
+    "desc": "Public fund riding rocket launches and satellite demand."
+  },
+  {
+    "name": "Concert Residency Sponsorship",
+    "price": 450000,
+    "rate_annual": 0.02,
+    "upkeep_monthly": 5000,
+    "volatility_monthly": 0.04,
+    "desc": "Co-produce a Vegas residency and take merch revenue."
+  },
+  {
+    "name": "Esports Pro Team",
+    "price": 1250000,
+    "rate_annual": 0.07,
+    "upkeep_monthly": 18000,
+    "volatility_monthly": 0.15,
+    "desc": "Roster salaries, bootcamp house, and sponsorship upside."
+  },
+  {
+    "name": "Global Art Fair Tour",
+    "price": 280000,
+    "rate_annual": -0.4,
+    "upkeep_monthly": 0,
+    "volatility_monthly": 0,
+    "desc": "A whirlwind of VIP passes, shipping, and private previews."
   }
 ]
diff --git a/static/manifest.json b/static/manifest.json
new file mode 100644
index 0000000000000000000000000000000000000000..6ae07b6787906a05e09d9e2336a44929b3c86f07
--- /dev/null
+++ b/static/manifest.json
@@ -0,0 +1,21 @@
+{
+  "name": "LottoLife Simulator",
+  "short_name": "LottoLife",
+  "start_url": "/game",
+  "display": "standalone",
+  "background_color": "#050810",
+  "theme_color": "#0b1222",
+  "description": "Live out the ultimate lottery win with cars, houses, businesses, charities, and real-life financial decisions.",
+  "icons": [
+    {
+      "src": "/static/icons/lotto-192.png",
+      "sizes": "192x192",
+      "type": "image/png"
+    },
+    {
+      "src": "/static/icons/lotto-512.png",
+      "sizes": "512x512",
+      "type": "image/png"
+    }
+  ]
+}
diff --git a/templates/game.html b/templates/game.html
index 7e094fbf10a92a3f02d19ca4e5bb606e1aeac403..4ebfd8f360fd6eb63b3aa7646b34f1c92c245158 100644
--- a/templates/game.html
+++ b/templates/game.html
@@ -1,44 +1,49 @@
 <!DOCTYPE html>
 <html lang="en">
 <head>
 <meta charset="utf-8">
 <title>üéÆ LottoLife Simulator</title>
 <meta name="viewport" content="width=device-width, initial-scale=1" />
+<meta name="theme-color" content="#0b1222" />
+<link rel="manifest" href="/static/manifest.json">
+<link rel="apple-touch-icon" href="/static/icons/lotto-192.png">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700;800&display=swap" rel="stylesheet">
 <style>
   :root{
     --bg:#050810;--panel:#0e1526;--line:#1b233a;--ink:#eef3ff;--muted:#9db0d6;
     --brand:#0d6efd;--good:#22c55e;--bad:#ef4444;--gold:#facc15;--vio:#7c5cff;
   }
   *{box-sizing:border-box}
   body{margin:0;background:radial-gradient(1200px 700px at 70% -10%, #13213a 0%, #050810 60%);color:var(--ink);font-family:'Jost',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;min-height:100vh;}
   header{position:sticky;top:0;z-index:30;background:#0b1222;border-bottom:2px solid var(--brand);box-shadow:0 10px 40px rgba(8,12,25,0.45);}
   nav{max-width:1250px;margin:auto;padding:12px 18px;display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
   nav .left,nav .right{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
-  nav a{color:#fff;text-decoration:none;padding:9px 14px;border-radius:10px;border:1px solid var(--line);background:#101833;font-weight:600;transition:all .25s ease}
+  nav .left{overflow:auto;max-width:100%;padding-bottom:4px}
+  nav .left::-webkit-scrollbar{display:none}
+  nav a{color:#fff;text-decoration:none;padding:9px 14px;border-radius:10px;border:1px solid var(--line);background:#101833;font-weight:600;transition:all .25s ease;white-space:nowrap}
   nav a.active,nav a:hover{background:var(--brand);border-color:transparent;transform:translateY(-1px)}
   nav button,nav select{background:#101833;color:#fff;border:1px solid var(--line);border-radius:10px;padding:9px 14px;font-weight:600;cursor:pointer;transition:all .25s ease}
   nav button:hover{background:var(--brand);border-color:transparent;transform:translateY(-1px)}
   nav select{padding:9px 12px}
   .wrap{max-width:1250px;margin:auto;padding:22px}
   .grid{display:grid;gap:18px;grid-template-columns:repeat(12,1fr)}
   .panel{background:var(--panel);border:1px solid var(--line);border-radius:20px;padding:22px;display:none;box-shadow:0 18px 45px rgba(5,8,16,0.65)}
   .panel.active{display:block}
   .span-12{grid-column:span 12}.span-8{grid-column:span 8}.span-6{grid-column:span 6}.span-5{grid-column:span 5}.span-4{grid-column:span 4}.span-3{grid-column:span 3}
   h1,h2,h3{margin:0 0 10px;font-weight:700;color:#d9e5ff}
   h2 small{display:block;font-weight:500;font-size:14px;color:var(--muted)}
   .topline{display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap;margin-bottom:18px}
   .identity{display:flex;gap:16px;align-items:center}
   .avatar{width:70px;height:70px;border-radius:16px;background:linear-gradient(135deg,#5c7cfa,#23a6d5);display:flex;align-items:center;justify-content:center;font-size:34px;font-weight:800}
   .identity-info{min-width:220px}
   .identity-info .name{font-size:22px;font-weight:800}
   .identity-info .meta{color:var(--muted);font-size:13px}
   .goal-line{margin-top:8px;font-size:14px;color:#c9dcff}
   .goal-line span{color:var(--gold);font-weight:600}
   .goal-progress{margin-top:6px;height:8px;background:#101933;border-radius:999px;overflow:hidden;position:relative}
   .goal-progress::after{content:"";display:block;height:100%;background:linear-gradient(90deg,#0d6efd,#7c5cff);width:var(--pct,0%);transition:width .4s ease}
   .top-actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
   .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 11px;border:1px solid var(--line);border-radius:999px;background:#0b1222;color:var(--muted);font-size:12px}
   .pill strong{color:#fff}
   .kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-bottom:18px}
@@ -61,64 +66,77 @@
   .storecard{border:1px solid var(--line);border-radius:16px;padding:16px;margin:10px 0;background:#101a33;box-shadow:0 12px 40px rgba(5,8,18,0.45)}
   .flex{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
   .toast{position:fixed;right:20px;bottom:20px;background:#0e1526;border:1px solid var(--line);padding:14px 16px;border-radius:14px;box-shadow:0 12px 38px rgba(0,0,0,.4);z-index:200;display:none;font-weight:600}
   .toast.show{display:block;animation:rise .5s ease}
   @keyframes rise{from{transform:translateY(14px);opacity:0}to{transform:translateY(0);opacity:1}}
   canvas#confetti{position:fixed;inset:0;pointer-events:none;z-index:150}
   footer{text-align:center;color:#9bb0d0;margin:34px 0}
   footer a{color:#cfe1ff}
   .timeline-list{max-height:420px;overflow:auto}
   .achievement-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
   .achievement{background:#101a33;border:1px solid var(--line);border-radius:16px;padding:16px;position:relative}
   .achievement.complete{border-color:#22c55e;box-shadow:0 10px 26px rgba(34,197,94,0.25)}
   .achievement.complete::after{content:"‚úî";position:absolute;top:10px;right:14px;color:#22c55e;font-weight:700}
   #gameOver{position:fixed;inset:0;background:rgba(5,8,16,0.92);display:none;align-items:center;justify-content:center;z-index:300;padding:24px}
   #gameOver.active{display:flex}
   #gameOver .box{max-width:420px;background:#0f1730;border-radius:22px;padding:28px;border:1px solid var(--brand);text-align:center;box-shadow:0 18px 46px rgba(0,0,0,.55)}
   #gameOver h2{margin-bottom:6px}
   #gameOver p{color:#cdd9ff;font-size:15px}
   #gameOver .stats{margin-top:16px;background:#101a33;border-radius:16px;padding:16px;text-align:left}
   .badge{display:inline-flex;align-items:center;gap:6px;background:rgba(13,110,253,0.12);color:#9cbafe;padding:6px 10px;border-radius:999px;font-size:12px}
   .life-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin-top:14px}
   .life-card{background:#101a33;border:1px solid var(--line);border-radius:16px;padding:16px}
   .life-card strong{display:block;font-size:16px;margin-bottom:6px}
   .life-card p{margin:6px 0 0;font-size:13px;color:#b7c6e6}
   .life-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:20px}
-  .life-actions .card{background:#0a1120;border:1px solid var(--line);border-radius:16px;padding:16px}
-  .life-actions .card button{width:100%;margin-top:8px}
+  .life-actions .card{background:#0a1120;border:1px solid var(--line);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:8px}
+  .life-actions .card button{width:100%;margin-top:2px}
+  .life-actions .card input{width:100%}
   .tagline{font-size:12px;color:#7da7ff;text-transform:uppercase;letter-spacing:.08em;margin-bottom:6px}
   .stat-block{background:#0a1120;border:1px solid var(--line);border-radius:16px;padding:18px;margin-top:16px}
   .stat-block h3{margin:0 0 10px}
   .stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
   .stat-item{background:#101833;border-radius:14px;padding:12px}
   .stat-item span{display:block;color:#9db0d6;font-size:12px;text-transform:uppercase;letter-spacing:.06em}
   .stat-item strong{display:block;margin-top:4px;font-size:18px}
   .timeline-list table{width:100%;}
   .timeline-list tbody tr:nth-child(even){background:rgba(255,255,255,0.02)}
   .timeline-list td{font-size:13px}
   .empty{color:#7c8dae;font-style:italic}
-  @media(max-width:980px){.span-8,.span-6,.span-5,.span-4,.span-3{grid-column:span 12}.topline{flex-direction:column;align-items:flex-start}.identity{flex-direction:row}.avatar{width:60px;height:60px;font-size:28px}}
+  @media(max-width:980px){
+    .span-8,.span-6,.span-5,.span-4,.span-3{grid-column:span 12}
+    .topline{flex-direction:column;align-items:flex-start}
+    .identity{flex-direction:row}
+    .avatar{width:60px;height:60px;font-size:28px}
+    nav{flex-direction:column;align-items:flex-start}
+    nav .right{width:100%;justify-content:flex-start;overflow:auto}
+  }
+  @media(max-width:640px){
+    header{position:static}
+    nav .right button,nav .right select{flex:1}
+    .top-actions{flex-direction:column;align-items:flex-start}
+  }
 </style>
 </head>
 <body>
 <script>
 window.GAME_START = {{ start_data|tojson }};
 </script>
 <header>
   <nav>
     <div class="left">
       <a href="#" data-tab="portfolio" class="active">üìä Portfolio</a>
       <a href="#" data-tab="life">üßë‚Äçü§ù‚Äçüßë Lifestyle</a>
       <a href="#" data-tab="cars">üèé Cars</a>
       <a href="#" data-tab="houses">üè† Houses</a>
       <a href="#" data-tab="biz">üíº Businesses</a>
       <a href="#" data-tab="charity">üéÅ Charities</a>
       <a href="#" data-tab="items">üíπ Investments</a>
       <a href="#" data-tab="timeline">üìÜ Timeline</a>
       <a href="#" data-tab="achievements">‚≠ê Achievements</a>
       <a href="/leaderboard">üèÜ Leaderboard</a>
       <a href="/guide">üìò Guide</a>
     </div>
     <div class="right">
       <span class="pill">Events <input id="evt" type="checkbox"></span>
       <select id="autoSpeed">
         <option value="1">Auto ‚Ä¢ 1 Day</option>
@@ -192,54 +210,70 @@ window.GAME_START = {{ start_data|tojson }};
         <div class="mini" id="breakdown">No assets yet. Buy something from the tabs!</div>
         <canvas id="spark" height="130" style="margin-top:14px;width:100%"></canvas>
       </div>
       <div class="span-4 notice">
         <h3 style="margin:0 0 10px">Quick Actions</h3>
         <label>Transfer to Savings ($)</label>
         <div class="row" style="align-items:center">
           <input id="depositInput" type="number" value="50000" style="flex:1" min="0">
           <button id="depositBtn" class="primary">Deposit</button>
         </div>
         <label>Withdraw from Savings ($)</label>
         <div class="row" style="align-items:center">
           <input id="withdrawInput" type="number" value="50000" style="flex:1" min="0">
           <button id="withdrawBtn" class="ghost">Withdraw</button>
         </div>
         <label>Loan Builder</label>
         <div class="row" style="align-items:center">
           <input id="loanAmount" type="number" value="250000" style="flex:1" min="0">
           <input id="loanRate" type="number" value="6" min="0" max="25" step="0.5" style="width:90px">%
         </div>
         <div class="row" style="margin-top:6px">
           <button id="takeLoan" class="primary" style="flex:1">Take Loan</button>
           <button id="payDebt" class="ghost" style="flex:1">Pay Debt</button>
         </div>
         <p class="mini" id="loanHint">Loans accrue monthly interest automatically.</p>
+        <label>Backup & Share</label>
+        <div class="row" style="align-items:center">
+          <button id="importBtn" class="ghost" style="flex:1">üì• Import Save</button>
+          <button id="exportState" class="primary" style="flex:1">üì§ Export Save</button>
+        </div>
+        <input id="importFile" type="file" accept="application/json" style="display:none">
+        <p class="mini" id="importStatus">Keep JSON files safe to restore progress on any device.</p>
         <label>Savings APY</label>
         <input id="apy" type="number" value="4.5" step="0.1" min="0" max="25">
         <label>Inflation</label>
         <input id="infl" type="number" value="2.5" step="0.1" min="0" max="15">
+        <details class="mini" style="margin-top:8px;color:#9fb3ff">
+          <summary>How to earn reputation?</summary>
+          <ul style="margin:6px 0 0 18px">
+            <li>Fund charities generously and keep them running.</li>
+            <li>Host community events from random event prompts.</li>
+            <li>Maintain high staff payroll without layoffs.</li>
+            <li>IPO a company and keep investors happy.</li>
+          </ul>
+        </details>
       </div>
     </div>
 
     <div class="grid" style="margin-top:18px">
       <div class="span-7 notice">
         <h3 style="margin:0 0 10px">üìú Ledger</h3>
         <table id="ledger">
           <thead><tr><th>#</th><th>Day</th><th>Event</th><th class="right">Œî Wallet</th><th class="right">Œî Assets</th><th class="right">Net</th></tr></thead>
           <tbody></tbody>
         </table>
       </div>
       <div class="span-5 notice">
         <h3 style="margin:0 0 10px">Stats</h3>
         <div class="stat-grid">
           <div class="stat-item"><span>Business Income</span><strong id="statBiz">$0</strong></div>
           <div class="stat-item"><span>Lifestyle Burn</span><strong id="statLifestyle">$0</strong></div>
           <div class="stat-item"><span>Charity Given</span><strong id="statCharity">$0</strong></div>
           <div class="stat-item"><span>Event Impact</span><strong id="statEvents">$0</strong></div>
           <div class="stat-item"><span>Interest Earned</span><strong id="statInterest">$0</strong></div>
           <div class="stat-item"><span>Debt Interest</span><strong id="statDebt">$0</strong></div>
         </div>
       </div>
     </div>
   </section>
 
@@ -268,61 +302,71 @@ window.GAME_START = {{ start_data|tojson }};
           <option value="25000" selected>Business globe trotter ($25k/mo)</option>
           <option value="90000">Private jet set ($90k/mo)</option>
         </select>
         <p>Travel boosts happiness but drains cash. High tier unlocks rare positive events.</p>
       </div>
       <div class="life-card">
         <strong>Staff & Payroll</strong>
         <select id="staffLevel">
           <option value="8000">Lean crew ($8k/mo)</option>
           <option value="30000">Comfort crew ($30k/mo)</option>
           <option value="120000">Royal entourage ($120k/mo)</option>
         </select>
         <p>Personal staff keep life smooth and reputation high but come with a paycheck.</p>
       </div>
     </div>
 
     <div class="life-actions">
       <div class="card">
         <div class="tagline">HAPPINESS & RISK</div>
         <p id="lifestyleSummary">Adjust the sliders to balance joy and sustainability.</p>
         <button id="lifePresetModest" class="ghost">Modest Living</button>
         <button id="lifePresetBalanced" class="ghost">Balanced</button>
         <button id="lifePresetExtravagant" class="primary">Extravagant</button>
       </div>
       <div class="card">
-        <div class="tagline">AUTOSAVE</div>
-        <p>We autosave to your browser every major action. Want a clean slate?</p>
+        <div class="tagline">AUTOSAVE & RESTORE</div>
+        <p>We autosave every major move. Import a JSON backup to pick up on another device.</p>
         <button id="clearLocal" class="ghost">Clear Local Save</button>
-        <button id="exportState" class="primary">Export State JSON</button>
+        <button id="importFromCard" class="ghost">Restore from File</button>
+        <button id="exportFromCard" class="primary">Download Backup</button>
+        <p class="mini" style="margin-top:4px">Backups include your ledger, holdings, and stats.</p>
       </div>
       <div class="card">
         <div class="tagline">MARKET MOOD</div>
         <p>Current market climate: <strong id="marketMood">Calm</strong></p>
         <p>Events and investments react to market swings. Keep an eye on volatility.</p>
         <button id="triggerEvent" class="ghost">Trigger Random Event</button>
       </div>
+      <div class="card">
+        <div class="tagline">EMAIL BACKUPS</div>
+        <label style="margin:0">Send saves via Resend</label>
+        <input id="emailInput" type="email" placeholder="you@example.com">
+        <button id="saveEmail" class="ghost">Save Email</button>
+        <button id="sendEmailBtn" class="primary">Email Latest Snapshot</button>
+        <p class="mini" id="emailStatus">We keep your email local and send via the Resend API when configured.</p>
+      </div>
     </div>
   </section>
 
   <section id="panel-cars" class="panel">
     <h2>üèé Cars ‚Äî Showroom</h2>
     <div id="carList"></div>
     <h3>üöó Garage</h3>
     <table id="garage">
       <thead><tr><th>Model</th><th class="right">Value</th><th class="right">Maint/mo</th><th>Action</th></tr></thead>
       <tbody></tbody>
     </table>
   </section>
 
   <section id="panel-houses" class="panel">
     <h2>üè† Real Estate ‚Äî Portfolio</h2>
     <div id="houseList"></div>
     <h3>üèö Owned Properties</h3>
     <table id="props">
       <thead><tr><th>Property</th><th class="right">Value</th><th class="right">Rent/mo</th><th class="right">Tax/yr</th><th class="right">Upkeep/mo</th><th>Status</th><th>Action</th></tr></thead>
       <tbody></tbody>
     </table>
   </section>
 
   <section id="panel-biz" class="panel">
     <h2>üíº Businesses ‚Äî Ventures</h2>
@@ -368,28 +412,33 @@ window.GAME_START = {{ start_data|tojson }};
     <h2>üìÜ Life Timeline</h2>
     <p class="mini">Track the biggest swings in your fortune. Only the latest 60 major events are shown.</p>
     <div class="timeline-list">
       <table>
         <thead><tr><th>#</th><th>Day</th><th>Event</th><th class="right">Net Worth</th><th class="right">High Water</th></tr></thead>
         <tbody id="timelineBody"></tbody>
       </table>
     </div>
   </section>
 
   <section id="panel-achievements" class="panel">
     <h2>‚≠ê Achievements</h2>
     <p class="mini">Hit milestones to flex your new lifestyle. These also influence leaderboard bragging rights.</p>
     <div class="achievement-grid" id="achievementsList"></div>
     <div class="stat-block">
       <h3>Milestones</h3>
       <ul id="milestones"></ul>
     </div>
   </section>
 </div>
 
 <footer>
   üíº Follow <a href="https://instagram.com/trackyoursheets" target="_blank">@trackyoursheets</a> for more finance sims, tips, and updates!
 </footer>
 
-<script src="/static/js/game.js?v=20"></script>
+<script>
+if ('serviceWorker' in navigator){
+  navigator.serviceWorker.register('/static/js/sw.js').catch(()=>{});
+}
+</script>
+<script src="/static/js/game.js?v=30"></script>
 </body>
 </html>
diff --git a/templates/guide.html b/templates/guide.html
index 1013c7c680960c0aa57bd8a901948c871a0da78f..a543a91c98f487e1a0966c20962a20577f97c545 100644
--- a/templates/guide.html
+++ b/templates/guide.html
@@ -1,96 +1,131 @@
 <!DOCTYPE html>
 <html lang="en">
 <head>
 <meta charset="utf-8">
 <title>üìò LottoLife Guide</title>
 <meta name="viewport" content="width=device-width, initial-scale=1">
+<meta name="theme-color" content="#0b1222" />
+<link rel="manifest" href="/static/manifest.json">
+<link rel="apple-touch-icon" href="/static/icons/lotto-192.png">
 <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600;700&display=swap" rel="stylesheet">
 <style>
   :root{--bg:#050810;--panel:#0f1730;--line:#1b233a;--brand:#0d6efd;--accent:#7c5cff;}
   *{box-sizing:border-box}
   body{font-family:'Jost',sans-serif;background:radial-gradient(900px 620px at 60% -10%,rgba(124,92,255,.25),rgba(5,8,16,.95)),#050810;color:#eef3ff;margin:0;min-height:100vh}
   header{background:#0b1222;border-bottom:2px solid rgba(13,110,253,.4);box-shadow:0 10px 30px rgba(5,8,16,.7)}
-  nav{max-width:960px;margin:auto;padding:14px 18px;display:flex;gap:12px;flex-wrap:wrap}
+  nav{max-width:1100px;margin:auto;padding:14px 18px;display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between}
+  nav .links{display:flex;gap:12px;flex-wrap:wrap}
   nav a{color:#fff;text-decoration:none;padding:10px 18px;border-radius:12px;border:1px solid rgba(124,92,255,.3);background:rgba(15,24,48,.85);font-weight:600;transition:.25s}
   nav a:hover,nav a.active{background:linear-gradient(135deg,var(--brand),var(--accent));border-color:transparent;box-shadow:0 18px 36px rgba(13,110,253,.4)}
   main{max-width:960px;margin:50px auto;padding:0 24px 60px;display:grid;gap:26px}
   section{background:var(--panel);border-radius:26px;border:1px solid rgba(124,92,255,.25);padding:26px;box-shadow:0 24px 60px rgba(5,8,18,.6)}
   h1{margin:0 0 10px;font-size:2.4rem;font-weight:800}
   h2{margin:0 0 12px;font-size:1.4rem;color:#d9e3ff}
   p{margin:0 0 12px;color:#a7b8e6;font-size:15px;line-height:1.6}
   ul{margin:0 0 12px 20px;color:#a7b8e6}
   li{margin-bottom:10px}
   code{background:rgba(15,24,48,.8);padding:2px 6px;border-radius:6px;color:#9fc0ff}
   footer{text-align:center;color:#8fa5d1;margin:30px 0 60px;font-size:14px}
+  @media(max-width:720px){nav{flex-direction:column;align-items:flex-start}nav .links{width:100%}}
 </style>
 </head>
 <body>
 <header>
   <nav>
-    <a href="/">üéÆ Game</a>
-    <a href="/leaderboard">üèÜ Leaderboard</a>
-    <a href="/guide" class="active">üìò Guide</a>
+    <div class="links">
+      <a href="/game">üéÆ Simulator</a>
+      <a href="/leaderboard">üèÜ Leaderboard</a>
+      <a href="/start">üé∞ Start</a>
+      <a href="/guide" class="active">üìò Guide</a>
+    </div>
+    <a href="/start" style="color:#9fb4ff;text-decoration:none;font-weight:600">Start a new run ‚Üí</a>
   </nav>
 </header>
 <main>
   <section>
     <h1>üìò Master the LottoLife Simulator</h1>
     <p>Welcome to your post-jackpot sandbox! This guide covers every screen so you can grow (or blow) your fortune on purpose. The simulator is tuned for PythonAnywhere and autosaves locally.</p>
   </section>
 
   <section>
     <h2>üéØ Getting started</h2>
     <ul>
-      <li><strong>Start screen:</strong> enter your jackpot, pick your state for accurate tax withholding, choose your payout, profile, and initial lifestyle vibe. We preview after-tax cash instantly.</li>
-      <li><strong>Session magic:</strong> your wallet, savings, state, and preferences follow you into the game via secure Flask sessions so no more ‚Äúamount lost on /game‚Äù bugs.</li>
-      <li><strong>Autosave:</strong> the game stores your progress in browser storage and lets you export a JSON snapshot. Restart anytime via <code>/reset</code>.</li>
+      <li><strong>Start screen:</strong> enter your jackpot (capped at $1,000,000,000 to keep the sim grounded), pick your state for accurate taxes, choose payout, profile, and lifestyle vibe. We preview after-tax cash instantly.</li>
+      <li><strong>Email backup:</strong> drop in an email to receive your starting summary via Resend. Configure the <code>RESEND_API_KEY</code> environment variable on the server and we‚Äôll email snapshots on demand.</li>
+      <li><strong>Session magic & autosave:</strong> wallet, savings, state, email, and preferences persist via Flask sessions. The game also autosaves locally and supports manual JSON exports/imports.</li>
     </ul>
   </section>
 
   <section>
     <h2>üìä Portfolio tab</h2>
     <ul>
       <li>Track <strong>wallet, savings, assets, debt, happiness, reputation, and high-water mark</strong> at a glance.</li>
       <li>Use quick actions to move cash to savings, withdraw, take loans, or pay down debt. Interest accrues automatically.</li>
       <li>Simulate time in bursts (day/week/month/year) or enable the <strong>auto-play loop</strong> from the top navigation. Choose how many days each tick advances.</li>
       <li>The ledger records every transaction and the timeline panel highlights the biggest swings.</li>
+      <li><strong>Backups:</strong> export or import save files, and trigger Resend emails of your snapshot from the Lifestyle tab.</li>
     </ul>
   </section>
 
   <section>
     <h2>üßë‚Äçü§ù‚Äçüßë Lifestyle tab</h2>
     <ul>
       <li>Fine-tune monthly burn, travel style, security detail, and staff payroll. These sliders affect happiness, random event odds, and monthly expenses.</li>
       <li>Preset buttons snap you to modest, balanced, or extravagant living.</li>
-      <li>Trigger a random event, review autosave status, or export your run for safe keeping.</li>
+      <li>Trigger a random event, review autosave status, import/export your save, or email the latest snapshot. Keeping staff paid and travel high boosts reputation.</li>
     </ul>
   </section>
 
   <section>
     <h2>üè† Assets & üéÅ Charities</h2>
     <ul>
-      <li><strong>Cars, Houses, Businesses, Investments:</strong> browse curated catalogs, buy assets, manage upkeep, hire/fire, IPO companies, and toggle rentals.</li>
-      <li><strong>Charities:</strong> start preset programs or roll your own foundation. Donations raise reputation but burn cash monthly.</li>
+      <li><strong>Cars, Houses, Businesses, Investments:</strong> dozens of curated options now mimic a life-sim catalogue‚Äîeverything from budget EVs to hypercars, smart homes to mega estates, coffee shops to space tourism firms, blue-chip ETFs to metaverse studios.</li>
+      <li>Each asset carries appreciation/ depreciation, upkeep, rent, payroll, and volatility. You can IPO businesses, collect dividends, and flip properties as the market mood shifts.</li>
+      <li><strong>Charities & foundations:</strong> fund ready-made causes or build custom charities. Monthly spend increases reputation; shutting one down reduces it.</li>
     </ul>
   </section>
 
   <section>
     <h2>üìÜ Timeline & ‚≠ê Achievements</h2>
     <ul>
       <li>The timeline shows the latest 60 key events with net worth and high-water stats for quick storytelling.</li>
-      <li>Achievements reward milestones such as ten-million net worth, first IPO, mega philanthropy, or surviving 1,000 days without going broke.</li>
+      <li>Achievements now span more than a dozen milestones: hit $10M, $100M, or $500M net worth, own five properties, collect a fleet of cars, run multiple IPOs, build a charity empire, import an old save, or survive 1,000 days without going broke.</li>
       <li>When net worth drops below zero with no assets left, the <strong>Game Over</strong> screen appears‚Äîproof it‚Äôs possible to lose it all.</li>
     </ul>
   </section>
 
   <section>
     <h2>üèÜ Leaderboard tips</h2>
     <ul>
       <li>Press <strong>Update Leaderboard</strong> to sync your stats. We capture day count, peak net worth, happiness, lifestyle spend, and more.</li>
-      <li>The leaderboard view is now fully styled with player goals, peak net, taxes paid, and day count so your run tells a story.</li>
+      <li>The leaderboard view is now fully styled with player goals, peak net, taxes paid, charity impact, and day count so your run tells a story.</li>
+      <li>Charity stats pull from your active foundations‚Äîkeep them funded to climb the reputation column.</li>
+    </ul>
+  </section>
+
+  <section>
+    <h2>üíå Email & backups</h2>
+    <ul>
+      <li><strong>Resend integration:</strong> set <code>RESEND_API_KEY</code> on your server, enter an email on the start screen, and we‚Äôll send summaries when you launch or press ‚ÄúEmail Latest Snapshot.‚Äù</li>
+      <li><strong>Import/Export:</strong> every save exports as JSON. Use the Import buttons (Portfolio quick actions or Lifestyle card) to restore progress on any browser or device.</li>
+      <li>Local autosave can be cleared with one click if you want to start fresh without wiping the leaderboard entry.</li>
+    </ul>
+  </section>
+
+  <section>
+    <h2>üì± Progressive Web App</h2>
+    <ul>
+      <li>The simulator ships with a manifest, icons, and a light service worker so you can ‚ÄúInstall‚Äù it from mobile or desktop browsers.</li>
+      <li>Static assets, templates, and JSON catalogs are cached for quick reloads even with spotty connectivity.</li>
+      <li>Because saves live in both the browser and export files, you can safely play offline and sync later.</li>
     </ul>
   </section>
 </main>
 <footer>üíº Questions or ideas? DM <a href="https://instagram.com/trackyoursheets" style="color:#cfe1ff" target="_blank">@trackyoursheets</a>.</footer>
+<script>
+if ('serviceWorker' in navigator){
+  navigator.serviceWorker.register('/static/js/sw.js').catch(()=>{});
+}
+</script>
 </body>
 </html>
diff --git a/templates/leaderboard.html b/templates/leaderboard.html
index 1d5cfa62cc4e19de22dabe8b79434de39c1be258..c457256096150d3828b5c87d09eae42c9b17670b 100644
--- a/templates/leaderboard.html
+++ b/templates/leaderboard.html
@@ -1,82 +1,101 @@
 <!DOCTYPE html>
 <html lang="en">
 <head>
 <meta charset="utf-8">
 <title>üèÜ LottoLife Leaderboard</title>
 <meta name="viewport" content="width=device-width, initial-scale=1">
+<meta name="theme-color" content="#0b1222" />
+<link rel="manifest" href="/static/manifest.json">
+<link rel="apple-touch-icon" href="/static/icons/lotto-192.png">
 <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600;700&display=swap" rel="stylesheet">
 <style>
   :root{--bg:#050810;--panel:#0f1730;--line:#1b233a;--brand:#0d6efd;--muted:#98a8ce;}
   *{box-sizing:border-box}
   body{font-family:'Jost',sans-serif;background:radial-gradient(1000px 680px at 65% -10%,rgba(13,110,253,.18),rgba(5,8,16,.98)),#050810;color:#f0f4ff;margin:0;min-height:100vh}
   header{background:#0b1222;border-bottom:2px solid rgba(13,110,253,.4);box-shadow:0 10px 40px rgba(5,8,16,.6);position:sticky;top:0;z-index:20}
-  nav{max-width:1100px;margin:auto;padding:14px 18px;display:flex;gap:10px;flex-wrap:wrap}
+  nav{max-width:1100px;margin:auto;padding:14px 18px;display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
+  nav .links{display:flex;gap:10px;flex-wrap:wrap}
   nav a{color:#fff;text-decoration:none;padding:10px 18px;border-radius:12px;border:1px solid rgba(13,110,253,.3);background:rgba(15,24,48,.85);font-weight:600;transition:.25s}
   nav a:hover{background:var(--brand);border-color:transparent}
   nav a.active{background:var(--brand);border-color:transparent;box-shadow:0 14px 36px rgba(13,110,253,.4)}
   main{max-width:1100px;margin:50px auto;padding:0 20px 60px}
   h1{margin:0;font-size:2.3rem;font-weight:800}
   .lead{color:#9fb4e8;margin:8px 0 24px}
   .board{background:var(--panel);border-radius:24px;border:1px solid rgba(124,92,255,.18);padding:24px;box-shadow:0 26px 70px rgba(5,8,18,.6)}
   table{width:100%;border-collapse:collapse}
   th,td{padding:14px 10px;text-align:left;border-bottom:1px solid var(--line);font-size:15px}
   th{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#9fb2df}
   tbody tr:nth-child(odd){background:rgba(255,255,255,0.01)}
   .rank{font-weight:800;font-size:18px}
   .pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:rgba(13,110,253,0.18);color:#9fb7ff;font-size:12px}
   .empty{padding:26px;text-align:center;color:#9fb4e8}
   footer{text-align:center;color:#8fa3d1;margin:40px 0}
+  @media(max-width:720px){nav{flex-direction:column;align-items:flex-start}nav .links{width:100%}}
 </style>
 </head>
 <body>
 <header>
   <nav>
-    <a href="/" >üéÆ Back to Game</a>
-    <a href="/leaderboard" class="active">üèÜ Leaderboard</a>
-    <a href="/guide">üìò Guide</a>
+    <div class="links">
+      <a href="/game">üéÆ Simulator</a>
+      <a href="/leaderboard" class="active">üèÜ Leaderboard</a>
+      <a href="/guide">üìò Guide</a>
+      <a href="/start">üé∞ Start</a>
+    </div>
+    <a href="/guide" style="color:#9fb4ff;text-decoration:none;font-weight:600">Tips & strategies ‚Üí</a>
   </nav>
 </header>
 <main>
   <h1>üèÜ LottoLife Hall of Fame</h1>
-  <p class="lead">These players survived the whirlwind, kept (most of) their fortune, and left a mark. Update your run from inside the game to appear here.</p>
+  <p class="lead">These players survived the whirlwind, kept (most of) their fortune, and left a mark through business wins and philanthropy. Update your run from inside the game to appear here‚Äîcharities and reputation are tracked now.</p>
   <div class="board">
     <table>
       <thead>
         <tr>
           <th>Rank</th>
           <th>Player</th>
           <th>State</th>
           <th>Net Worth</th>
           <th>Peak Net</th>
           <th>Day</th>
           <th>Reputation</th>
           <th>Happiness</th>
+          <th>Charity Impact</th>
           <th>Taxes Paid</th>
         </tr>
       </thead>
       <tbody>
         {% for p in players %}
         <tr>
           <td class="rank">#{{ loop.index }}</td>
           <td>
             <div>{{ p['name'] or 'Player' }}</div>
             {% if p['goal'] %}<div class="pill">{{ p['goal'] }}</div>{% endif %}
           </td>
           <td>{{ p['state'] }}</td>
           <td>${{ '%.0f'|format(p['net']) }}</td>
           <td>${{ '%.0f'|format(p['high_net'] or p['net']) }}</td>
           <td>Day {{ p['day'] or 0 }}</td>
           <td>{{ '%.0f'|format(p['rep']) }}</td>
           <td>{{ '%.0f'|format(p['happiness'] or 0) }}%</td>
+          <td>
+            <div>${{ '%.0f'|format(p['charity_given'] or 0) }} total</div>
+            {% if p['top_charity'] %}<div class="pill">{{ p['top_charity'] }} ‚Ä¢ {{ p['charity_count'] }} orgs</div>{% else %}<div class="pill" style="background:rgba(239,68,68,0.18);color:#fca5a5">No foundations yet</div>{% endif %}
+          </td>
           <td>${{ '%.0f'|format(p['taxes_paid'] or 0) }}</td>
         </tr>
         {% else %}
         <tr><td colspan="9" class="empty">No runs posted yet. Finish the tutorial in game and press ‚ÄúUpdate Leaderboard.‚Äù</td></tr>
         {% endfor %}
       </tbody>
     </table>
   </div>
 </main>
 <footer>üíº Follow <a href="https://instagram.com/trackyoursheets" style="color:#cfe1ff" target="_blank">@trackyoursheets</a> for updates and challenges.</footer>
+<script>
+if ('serviceWorker' in navigator){
+  navigator.serviceWorker.register('/static/js/sw.js').catch(()=>{});
+}
+</script>
 </body>
 </html>
diff --git a/templates/start.html b/templates/start.html
index 5fc0101f811428d68a77946444768c02d4e415c5..8898d88c6d418f93d688f031d01bff13087ea167 100644
--- a/templates/start.html
+++ b/templates/start.html
@@ -1,138 +1,170 @@
 <!DOCTYPE html>
 <html lang="en">
 <head>
 <meta charset="utf-8">
 <title>üé∞ LottoLife ‚Äî Create Your Story</title>
 <meta name="viewport" content="width=device-width, initial-scale=1">
+<meta name="theme-color" content="#0b1222" />
+<link rel="manifest" href="/static/manifest.json">
+<link rel="apple-touch-icon" href="/static/icons/lotto-192.png">
 <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700&display=swap" rel="stylesheet">
 <style>
   :root{
     --bg:#050810;--panel:#0e1526;--line:#1b233a;--ink:#f4f7ff;--muted:#94a3c4;--brand:#0d6efd;--accent:#7c5cff;--good:#22c55e;
   }
   *{box-sizing:border-box}
-  body{margin:0;font-family:'Jost',sans-serif;background:radial-gradient(1100px 750px at 65% -20%,rgba(124,92,255,.35),rgba(5,8,16,.92)),#050810;color:var(--ink);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
-  main{max-width:960px;width:100%;background:rgba(13,22,44,0.9);border:1px solid rgba(124,92,255,0.35);border-radius:26px;padding:30px 34px;box-shadow:0 40px 120px rgba(2,6,16,0.6);backdrop-filter:blur(20px)}
+  body{margin:0;font-family:'Jost',sans-serif;background:radial-gradient(1100px 750px at 65% -20%,rgba(124,92,255,.35),rgba(5,8,16,.92)),#050810;color:var(--ink);min-height:100vh;display:flex;flex-direction:column;padding:0 24px 40px}
+  header{background:#0b1222;border-bottom:2px solid rgba(124,92,255,0.35);box-shadow:0 16px 44px rgba(5,8,16,0.6);position:sticky;top:0;z-index:30}
+  nav{max-width:1100px;margin:auto;padding:14px 18px;display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
+  nav .links{display:flex;gap:10px;flex-wrap:wrap}
+  nav a{color:#fff;text-decoration:none;padding:10px 16px;border-radius:12px;border:1px solid rgba(124,92,255,0.4);background:rgba(15,24,48,0.85);font-weight:600;transition:.25s}
+  nav a:hover,nav a.active{background:linear-gradient(135deg,var(--brand),var(--accent));border-color:transparent;box-shadow:0 18px 38px rgba(13,110,253,.35)}
+  main{max-width:960px;width:100%;background:rgba(13,22,44,0.9);border:1px solid rgba(124,92,255,0.35);border-radius:26px;padding:30px 34px;box-shadow:0 40px 120px rgba(2,6,16,0.6);backdrop-filter:blur(20px);margin:40px auto 0}
   h1{margin:0;font-size:2.2rem;font-weight:800}
   p.lead{margin:8px 0 24px;color:#bfc8e6}
   form{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
   label{display:flex;flex-direction:column;gap:6px;font-size:14px;color:var(--muted);font-weight:500}
   input,select,textarea{padding:12px 14px;border-radius:12px;border:1px solid rgba(124,92,255,0.45);background:rgba(8,12,25,0.9);color:var(--ink);font-family:inherit;font-size:16px}
   textarea{min-height:120px;grid-column:span 2}
   .actions{grid-column:span 2;display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-top:10px}
   button{background:linear-gradient(135deg,var(--brand),var(--accent));border:none;color:#fff;font-weight:700;padding:14px 24px;border-radius:16px;cursor:pointer;font-size:16px;box-shadow:0 16px 45px rgba(13,110,253,0.35);transition:transform .2s ease}
   button:hover{transform:translateY(-1px)}
   .preview{margin-top:28px;background:#0b1428;border-radius:22px;border:1px solid rgba(124,92,255,0.35);padding:20px 24px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}
   .tile{background:rgba(16,27,52,0.9);border-radius:18px;padding:16px;border:1px solid rgba(124,92,255,0.2)}
   .tile span{display:block;font-size:13px;text-transform:uppercase;letter-spacing:.08em;color:#9fb0d6;margin-bottom:6px}
   .tile strong{font-size:20px}
   .tagline{font-size:12px;color:#7ea2ff;text-transform:uppercase;letter-spacing:.12em;margin-bottom:6px}
   .grid-col2{grid-column:span 2}
-  @media(max-width:720px){main{padding:26px}textarea{grid-column:span 1}.actions{grid-column:span 1;flex-direction:column;align-items:stretch}}
+  @media(max-width:720px){nav{flex-direction:column;align-items:flex-start}main{padding:26px;margin-top:30px}textarea{grid-column:span 1}.actions{grid-column:span 1;flex-direction:column;align-items:stretch}}
 </style>
 </head>
 <body>
+<header>
+  <nav>
+    <div class="links">
+      <a href="/start" class="active">üé∞ Start</a>
+      <a href="/game">üéÆ Simulator</a>
+      <a href="/leaderboard">üèÜ Leaderboard</a>
+      <a href="/guide">üìò Guide</a>
+    </div>
+    <a href="/guide" style="color:#9fb4ff;text-decoration:none;font-weight:600">How it works ‚Üí</a>
+  </nav>
+</header>
 <main>
   <div class="tagline">BUILD YOUR LEGEND</div>
   <h1>Design your lotto life</h1>
-  <p class="lead">Tell us who you are, where you live, and how wild you want to spend. We‚Äôll simulate the taxes, investments, lifestyle burn, and risky bets so you can see how long your fortune lasts.</p>
+  <p class="lead">Tell us who you are, where you live, and how wild you want to spend. We‚Äôll simulate the taxes, investments, lifestyle burn, and risky bets so you can see how long your fortune lasts. Jackpot inputs are capped at $1,000,000,000 to keep the math realistic.</p>
   <form action="/startgame" method="POST" id="startForm">
     <label>üßë Your name
       <input type="text" name="name" placeholder="Jordan Dreamer" required>
     </label>
-    <label>üíµ Jackpot size
+    <label>üìß Backup email (optional)
+      <input type="email" name="email" id="email" placeholder="you@example.com">
+      <span style="font-size:12px;color:#7fa3ff">We‚Äôll email your starting summary via Resend if configured.</span>
+    </label>
+    <label>üíµ Jackpot size <span style="font-size:12px;color:#7ea2ff">(capped at $1,000,000,000)</span>
       <input type="number" name="amount" id="amount" placeholder="10000000" required>
     </label>
     <label>üìç Home state
       <select name="state" id="state" required>
         {% for abbr, rate in STATE_TAX.items()|sort %}
         <option value="{{ abbr }}">{{ abbr }} ({{ (rate*100)|round(2) }}%)</option>
         {% endfor %}
       </select>
     </label>
     <label>üè¶ Payout style
       <select name="payout" id="payout">
         <option value="lump">Lump sum (cash today)</option>
         <option value="annuity">Annuity (30-year stream)</option>
       </select>
     </label>
     <label>üß† Money personality
       <select name="profile" id="profile">
         <option value="conservative">Conservative planner</option>
         <option value="balanced" selected>Balanced investor</option>
         <option value="yolo">High-roller YOLO</option>
       </select>
     </label>
     <label>üé≠ Lifestyle vibe
       <select name="lifestyle" id="lifestyle">
         <option value="modest">Modest reset</option>
         <option value="smart" selected>Smart flex</option>
         <option value="lavish">Lavish legend</option>
       </select>
     </label>
     <label class="grid-col2">üìù Dream headline
       <textarea name="goal" id="goal" placeholder="Example: Retire my parents, start a studio, and fund STEM scholarships."></textarea>
     </label>
     <div class="actions">
       <button type="submit">Launch Simulation ‚Üí</button>
       <div style="color:#8ea2d8;font-size:14px">You can change everything inside the game. We autosave progress.</div>
     </div>
   </form>
 
   <div class="preview" id="preview">
     <div class="tile"><span>After Federal Tax</span><strong id="prevFed">$0</strong></div>
     <div class="tile"><span>After State Tax</span><strong id="prevState">$0</strong></div>
     <div class="tile"><span>Take-home Net</span><strong id="prevNet">$0</strong></div>
     <div class="tile"><span>Starting Wallet</span><strong id="prevWallet">$0</strong><div style="font-size:12px;color:#7fa3ff">80% of net in cash</div></div>
     <div class="tile"><span>Initial Savings</span><strong id="prevSavings">$0</strong><div style="font-size:12px;color:#7fa3ff">20% tucked away</div></div>
     <div class="tile"><span>Monthly Lifestyle Burn (est.)</span><strong id="prevLifestyle">$0</strong><div style="font-size:12px;color:#7fa3ff">Based on vibe + profile</div></div>
   </div>
 </main>
 <script>
 const STATE_TAX = {{ STATE_TAX|tojson }};
 const FED_TAX = {{ FEDERAL_TAX }};
+const MAX_AMOUNT = 1000000000;
 const $ = s => document.querySelector(s);
+$('#amount').setAttribute('max', MAX_AMOUNT);
 function fmt(n){return Number(n||0).toLocaleString(undefined,{style:'currency',currency:'USD',maximumFractionDigits:0});}
 function estLifestyle(net, profile, lifestyle){
   const base = net * 0.012; // base monthly burn ~1.2% of net
   const multipliers = {modest:0.6, smart:1.0, lavish:1.8};
   const profileBoost = {conservative:0.8, balanced:1, yolo:1.3};
   return Math.min(net/6, base * (multipliers[lifestyle]||1) * (profileBoost[profile]||1));
 }
 function recalc(){
-  const amt = Number($('#amount').value.replace(/,/g,''))||0;
+  let amt = Number($('#amount').value.replace(/,/g,''))||0;
+  if(amt > MAX_AMOUNT){
+    amt = MAX_AMOUNT;
+    $('#amount').value = MAX_AMOUNT;
+  }
   const state = $('#state').value;
   const profile = $('#profile').value;
   const vibe = $('#lifestyle').value;
   const payout = $('#payout').value;
   let working = amt;
   let fed = 0;
   let stateTax = 0;
   if(payout === 'annuity'){
     const years = 30;
     const rate = 0.04;
     const annuity = amt ? (amt * rate) / (1 - Math.pow(1+rate,-years)) : 0;
     working = annuity * years * 0.55; // approx tax withheld over time
   }
   fed = working * FED_TAX;
   stateTax = working * (STATE_TAX[state] || 0);
   const afterFederal = working - fed;
   const afterState = working - stateTax;
   const net = Math.max(0, working - fed - stateTax);
   const savings = net * 0.20;
   const wallet = net - savings;
   const lifestyle = estLifestyle(net, profile, vibe);
   $('#prevFed').textContent = fmt(afterFederal);
   $('#prevState').textContent = fmt(afterState);
   $('#prevNet').textContent = fmt(net);
   $('#prevWallet').textContent = fmt(wallet);
   $('#prevSavings').textContent = fmt(savings);
   $('#prevLifestyle').textContent = fmt(lifestyle);
 }
 ['#amount','#state','#profile','#lifestyle','#payout'].forEach(sel=>{
   const el = document.querySelector(sel);
-  if(el){el.addEventListener('input',recalc);el.addEventListener('change',recalc);}  
+  if(el){el.addEventListener('input',recalc);el.addEventListener('change',recalc);}
 });
 recalc();
+if ('serviceWorker' in navigator){
+  navigator.serviceWorker.register('/static/js/sw.js').catch(()=>{});
+}
 </script>
 </body>
 </html>
