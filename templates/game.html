<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>üéÆ LottoLife Simulator</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#0b1222" />
<link rel="manifest" href="/static/manifest.json">
<link rel="apple-touch-icon" href="/static/icons/lotto-192.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#050810;--panel:#0e1526;--line:#1b233a;--ink:#eef3ff;--muted:#9db0d6;
    --brand:#0d6efd;--good:#22c55e;--bad:#ef4444;--gold:#facc15;--vio:#7c5cff;
  }
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(1200px 700px at 70% -10%, #13213a 0%, #050810 60%);color:var(--ink);font-family:'Jost',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;min-height:100vh;}
  header{position:sticky;top:0;z-index:30;background:#0b1222;border-bottom:2px solid var(--brand);box-shadow:0 10px 40px rgba(8,12,25,0.45);}
  nav{max-width:1250px;margin:auto;padding:12px 18px;display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
  nav .left,nav .right{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  nav .left{overflow:auto;max-width:100%;padding-bottom:4px}
  nav .left::-webkit-scrollbar{display:none}
  nav a{color:#fff;text-decoration:none;padding:9px 14px;border-radius:10px;border:1px solid var(--line);background:#101833;font-weight:600;transition:all .25s ease;white-space:nowrap}
  nav a.active,nav a:hover{background:var(--brand);border-color:transparent;transform:translateY(-1px)}
  nav button,nav select{background:#101833;color:#fff;border:1px solid var(--line);border-radius:10px;padding:9px 14px;font-weight:600;cursor:pointer;transition:all .25s ease}
  nav button:hover{background:var(--brand);border-color:transparent;transform:translateY(-1px)}
  nav select{padding:9px 12px}
  nav .quick-money{display:flex;gap:8px;align-items:center;flex-wrap:wrap;font-size:13px;color:#cfe1ff}
  nav .quick-money span{display:inline-flex;align-items:center;gap:6px;background:rgba(124,92,255,0.18);border:1px solid rgba(124,92,255,0.35);padding:6px 12px;border-radius:999px}
  nav .quick-money strong{color:#fff;font-weight:700}
  .wrap{max-width:1250px;margin:auto;padding:22px}
  .grid{display:grid;gap:18px;grid-template-columns:repeat(12,1fr)}
  .panel{background:var(--panel);border:1px solid var(--line);border-radius:20px;padding:22px;display:none;box-shadow:0 18px 45px rgba(5,8,16,0.65)}
  .panel.active{display:block}
  .span-12{grid-column:span 12}.span-8{grid-column:span 8}.span-6{grid-column:span 6}.span-5{grid-column:span 5}.span-4{grid-column:span 4}.span-3{grid-column:span 3}
  h1,h2,h3{margin:0 0 10px;font-weight:700;color:#d9e5ff}
  h2 small{display:block;font-weight:500;font-size:14px;color:var(--muted)}
  .topline{display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap;margin-bottom:18px}
  .identity{display:flex;gap:16px;align-items:center}
  .avatar{width:70px;height:70px;border-radius:16px;background:linear-gradient(135deg,#5c7cfa,#23a6d5);display:flex;align-items:center;justify-content:center;font-size:34px;font-weight:800}
  .identity-info{min-width:220px}
  .identity-info .name{font-size:22px;font-weight:800}
  .identity-info .meta{color:var(--muted);font-size:13px}
  .goal-line{margin-top:8px;font-size:14px;color:#c9dcff}
  .goal-line span{color:var(--gold);font-weight:600}
  .goal-progress{margin-top:6px;height:8px;background:#101933;border-radius:999px;overflow:hidden;position:relative}
  .goal-progress::after{content:"";display:block;height:100%;background:linear-gradient(90deg,#0d6efd,#7c5cff);width:var(--pct,0%);transition:width .4s ease}
  .identity-extra{font-size:13px;color:#9db0d6;margin-top:6px;display:flex;gap:10px;flex-wrap:wrap}
  .top-actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .pill{display:inline-flex;gap:6px;align-items:center;padding:6px 11px;border:1px solid var(--line);border-radius:999px;background:#0b1222;color:var(--muted);font-size:12px}
  .pill strong{color:#fff}
  .kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-bottom:18px}
  .kpi{background:#0a1120;border:1px solid var(--line);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:6px;min-height:110px;position:relative;overflow:hidden}
  .kpi .t{color:var(--muted);font-size:13px;text-transform:uppercase;letter-spacing:.06em}
  .kpi .v{font-weight:800;font-size:22px}
  .kpi .tag{font-size:12px;color:#7da7ff}
  label{display:block;color:var(--muted);font-size:13px;margin-top:8px}
  input,select,button,textarea{padding:12px 14px;border-radius:12px;border:1px solid #1c2744;background:#0b1222;color:var(--ink);font-family:inherit;font-size:15px}
  input[type=range]{width:100%;padding:0;background:transparent}
  button.primary{background:var(--brand);border-color:transparent;font-weight:800}
  button.ghost{background:transparent;color:#9ab7ff;border:1px dashed var(--line)}
  button.btn-danger{background:#ef4444;border-color:transparent;color:#fff}
  button.btn-danger:hover{background:#dc2626}
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px;border-bottom:1px solid var(--line);text-align:left;font-size:14px}
  th{color:#b9c7e0;text-transform:uppercase;letter-spacing:.04em;font-size:12px}
  td.right{text-align:right}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  .mini{font-size:12px;color:var(--muted)}
  .notice{background:#0a1120;border:1px dashed var(--line);padding:14px;border-radius:16px}
  .storecard{border:1px solid var(--line);border-radius:16px;padding:16px;margin:10px 0;background:#101a33;box-shadow:0 12px 40px rgba(5,8,18,0.45)}
  .storecard .mini{color:#9db0d6}
  .storecard-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:14px;flex-wrap:wrap}
  .storecard button{min-width:0}
  .storecard button.secondary{background:transparent;color:#9ab7ff;border:1px solid var(--line)}
  .storecard button.secondary:hover{background:#1b2542;color:#fff;border-color:transparent}
  .flex{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .toast{position:fixed;right:20px;bottom:20px;background:#0e1526;border:1px solid var(--line);padding:14px 16px;border-radius:14px;box-shadow:0 12px 38px rgba(0,0,0,.4);z-index:200;display:none;font-weight:600}
  .toast.show{display:block;animation:rise .5s ease}
  .fun-popup{position:fixed;top:84px;right:18px;background:#101a33;border:1px solid var(--brand);padding:16px 18px;border-radius:18px;color:#e9efff;box-shadow:0 18px 48px rgba(5,8,16,.6);opacity:0;transform:translateY(-12px);transition:.3s ease;pointer-events:none;z-index:210;max-width:260px}
  .fun-popup.show{opacity:1;transform:translateY(0)}
  .fun-popup.good{border-color:#22c55e}
  .fun-popup.ouch{border-color:#ef4444}
  .fun-popup p{margin:0;font-weight:600;font-size:14px}
  .modal{position:fixed;inset:0;background:rgba(5,8,16,0.75);display:none;align-items:center;justify-content:center;padding:22px;z-index:250}
  .modal.show{display:flex}
  .modal .box{background:#0f1730;border:1px solid var(--line);border-radius:22px;max-width:540px;width:100%;padding:26px;box-shadow:0 22px 60px rgba(0,0,0,0.65)}
  .modal .box h3{margin:0 0 6px}
  .modal .box p{color:#b7c6e6;font-size:14px;line-height:1.45}
  .modal .meta-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin:18px 0 24px}
  .modal .meta-grid div{background:#101a33;border:1px solid var(--line);border-radius:14px;padding:12px}
  .modal .meta-grid span{display:block;font-size:12px;color:#7da7ff;text-transform:uppercase;letter-spacing:.06em;margin-bottom:4px}
  .modal .actions{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}
  @keyframes rise{from{transform:translateY(14px);opacity:0}to{transform:translateY(0);opacity:1}}
  canvas#confetti{position:fixed;inset:0;pointer-events:none;z-index:150}
  footer{text-align:center;color:#9bb0d0;margin:34px 0}
  footer a{color:#cfe1ff}
  .timeline-list{max-height:420px;overflow:auto}
  .achievement-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
  .achievement{background:#101a33;border:1px solid var(--line);border-radius:16px;padding:16px;position:relative}
  .achievement.complete{border-color:#22c55e;box-shadow:0 10px 26px rgba(34,197,94,0.25)}
  .achievement.complete::after{content:"‚úî";position:absolute;top:10px;right:14px;color:#22c55e;font-weight:700}
  .board-cell{display:inline-block;padding:4px 10px;border-radius:999px;background:rgba(124,92,255,0.16);color:#cfe1ff}
  #gameOver{position:fixed;inset:0;background:rgba(5,8,16,0.92);display:none;align-items:center;justify-content:center;z-index:300;padding:24px}
  #gameOver.active{display:flex}
  #gameOver .box{max-width:420px;background:#0f1730;border-radius:22px;padding:28px;border:1px solid var(--brand);text-align:center;box-shadow:0 18px 46px rgba(0,0,0,.55)}
  #gameOver h2{margin-bottom:6px}
  #gameOver p{color:#cdd9ff;font-size:15px}
  #gameOver .stats{margin-top:16px;background:#101a33;border-radius:16px;padding:16px;text-align:left}
  .badge{display:inline-flex;align-items:center;gap:6px;background:rgba(13,110,253,0.12);color:#9cbafe;padding:6px 10px;border-radius:999px;font-size:12px}
  .life-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin-top:14px}
  .life-card{background:#101a33;border:1px solid var(--line);border-radius:16px;padding:16px}
  .life-card strong{display:block;font-size:16px;margin-bottom:6px}
  .life-card p{margin:6px 0 0;font-size:13px;color:#b7c6e6}
  .life-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:20px}
  .life-actions .card{background:#0a1120;border:1px solid var(--line);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:8px}
  .life-actions .card button{width:100%;margin-top:2px}
  .life-actions .card input{width:100%}
  .tagline{font-size:12px;color:#7da7ff;text-transform:uppercase;letter-spacing:.08em;margin-bottom:6px}
  .stat-block{background:#0a1120;border:1px solid var(--line);border-radius:16px;padding:18px;margin-top:16px}
  .stat-block h3{margin:0 0 10px}
  .stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
  .stat-item{background:#101833;border-radius:14px;padding:12px}
  .stat-item span{display:block;color:#9db0d6;font-size:12px;text-transform:uppercase;letter-spacing:.06em}
  .stat-item strong{display:block;margin-top:4px;font-size:18px}
  .identity-grid,.family-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:12px}
  .identity-grid label,.family-grid label{margin:0}
  .identity-grid textarea,.family-grid textarea{min-height:100px}
  .family-grid textarea{grid-column:span 2}
  .timeline-list table{width:100%;}
  .timeline-list tbody tr:nth-child(even){background:rgba(255,255,255,0.02)}
  .timeline-list td{font-size:13px}
  .empty{color:#7c8dae;font-style:italic}
  .board-list{display:grid;gap:12px;margin-top:16px}
  .board-row{display:flex;flex-wrap:wrap;justify-content:space-between;gap:12px;align-items:center;background:#101a33;border:1px solid var(--line);border-radius:16px;padding:14px}
  .board-row strong{display:block;font-size:15px}
  .board-row span{display:block;font-size:12px;color:#9db0d6}
  .board-actions{display:flex;gap:8px;align-items:center}
  .board-pay{font-weight:700;color:#e5ecff}
  .floating-balances{position:fixed;bottom:14px;left:50%;transform:translateX(-50%);background:rgba(15,24,48,0.92);border:1px solid var(--line);border-radius:999px;padding:10px 18px;display:none;gap:14px;align-items:center;color:#dbe6ff;z-index:180;box-shadow:0 14px 40px rgba(5,8,16,.55)}
  .floating-balances span{font-size:13px;font-weight:600}
  @media(max-width:980px){
    .span-8,.span-6,.span-5,.span-4,.span-3{grid-column:span 12}
    .topline{flex-direction:column;align-items:flex-start}
    .identity{flex-direction:row}
    .avatar{width:60px;height:60px;font-size:28px}
    nav{flex-direction:column;align-items:flex-start}
    nav .right{width:100%;justify-content:flex-start;overflow:auto}
  }
  @media(max-width:640px){
    header{position:static}
    nav .right{gap:12px}
    nav .quick-money{width:100%;justify-content:space-between}
    nav .right button,nav .right select{flex:1}
    .floating-balances{display:flex;flex-wrap:wrap;justify-content:center}
    .top-actions{flex-direction:column;align-items:flex-start}
  }
</style>
</head>
<body>
<script>
window.GAME_START = {{ start_data|tojson }};
window.CATALOG_FALLBACK = {{ catalog_data|tojson }};
</script>
<header>
  <nav>
    <div class="left">
      <a href="#" data-tab="portfolio" class="active">üìä Portfolio</a>
      <a href="#" data-tab="life">üßë‚Äçü§ù‚Äçüßë Lifestyle</a>
      <a href="#" data-tab="cars">üèé Cars</a>
      <a href="#" data-tab="houses">üè† Houses</a>
      <a href="#" data-tab="biz">üíº Businesses</a>
      <a href="#" data-tab="charity">üéÅ Charities</a>
      <a href="#" data-tab="items">üíπ Investments</a>
      <a href="#" data-tab="timeline">üìÜ Timeline</a>
      <a href="#" data-tab="achievements">‚≠ê Achievements</a>
      <a href="/leaderboard">üèÜ Leaderboard</a>
      <a href="/guide">üìò Guide</a>
    </div>
    <div class="right">
      <div class="quick-money">
        <span>Wallet <strong id="navWallet">$0</strong></span>
        <span>Savings <strong id="navSavings">$0</strong></span>
        <span>Net <strong id="navNet">$0</strong></span>
      </div>
      <span class="pill">Events <input id="evt" type="checkbox"></span>
      <select id="autoSpeed">
        <option value="1">Auto ‚Ä¢ 1 Day</option>
        <option value="7" selected>Auto ‚Ä¢ 1 Week</option>
        <option value="30">Auto ‚Ä¢ 1 Month</option>
        <option value="90">Auto ‚Ä¢ 1 Quarter</option>
      </select>
      <button id="autoPlay">‚ñ∂Ô∏è Auto</button>
      <button id="autoStop" class="ghost">‚èπ Stop</button>
    </div>
  </nav>
</header>

<canvas id="confetti"></canvas>
<div id="catalogModal" class="modal">
  <div class="box">
    <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:6px">
      <div>
        <div class="tagline" id="catalogModalTag">Asset Detail</div>
        <h3 id="catalogModalTitle">Asset Overview</h3>
      </div>
      <button class="ghost" type="button" onclick="closeCatalogModal()">Close</button>
    </div>
    <p id="catalogModalDesc"></p>
    <div class="meta-grid" id="catalogModalMeta"></div>
    <div class="actions">
      <button class="ghost" type="button" onclick="closeCatalogModal()">Cancel</button>
      <button id="catalogModalBuy" class="primary" type="button">Buy</button>
    </div>
  </div>
</div>
<div id="boardModal" class="modal">
  <div class="box">
    <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:6px">
      <div>
        <div class="tagline">Board of Directors</div>
        <h3 id="boardModalTitle">Board</h3>
        <p class="mini" id="boardSeatInfo" style="margin:4px 0 0">0/0 seats filled</p>
      </div>
      <button class="ghost" type="button" onclick="closeBoardModal()">Close</button>
    </div>
    <div id="boardMemberList" class="board-list"></div>
  </div>
</div>
<div id="toast" class="toast">Saved!</div>
<div id="funPopup" class="fun-popup"><p>You're on a roll!</p></div>
<div id="floatingBalances" class="floating-balances"></div>
<div id="gameOver">
  <div class="box">
    <h2>üí• Game Over</h2>
    <p id="gameOverMsg">Your fortune has run dry.</p>
    <div class="stats">
      <div class="row" style="justify-content:space-between"><span>Final Net Worth</span><strong id="gameOverNet">$0</strong></div>
      <div class="row" style="justify-content:space-between"><span>High Water Mark</span><strong id="gameOverHigh">$0</strong></div>
      <div class="row" style="justify-content:space-between"><span>Days Survived</span><strong id="gameOverDays">0</strong></div>
    </div>
    <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center">
      <a class="primary" href="/reset" style="text-decoration:none;padding:12px 22px;border-radius:12px">Start Over</a>
      <button id="closeGameOver" class="ghost">Keep Exploring</button>
    </div>
  </div>
</div>

<div class="wrap">
  <section id="panel-portfolio" class="panel active">
    <div class="topline">
        <div class="identity">
          <div class="avatar" id="avatarBadge">üí∞</div>
          <div class="identity-info">
            <div class="name" id="playerName">Player</div>
            <div class="meta"><span id="playerState">State</span> ‚Ä¢ <span id="playerProfile">Profile</span> ‚Ä¢ <span id="playerPronouns">They/Them</span> ‚Ä¢ <span id="playerAge">Age --</span> ‚Ä¢ <span id="timeBadge">Day 1</span></div>
            <div class="identity-extra" id="playerCareerLine">Career: Newly wealthy</div>
            <div class="goal-line">Goal: <span id="playerGoal">Set in start screen</span></div>
            <div class="goal-line" id="playerBio">Bio: Share your story inside Lifestyle</div>
            <div class="goal-line" id="familySummary">Household: Solo player</div>
            <div class="goal-progress" id="goalProgress" style="--pct:0%"></div>
          </div>
        </div>
      <div class="top-actions">
        <div class="pill">Tax Paid <strong id="taxPaid">$0</strong></div>
        <div class="pill">Starting Prize <strong id="startAmt">$0</strong></div>
        <div class="pill">Mood <strong id="moodLabel">Balanced</strong></div>
        <button id="day" class="ghost">‚ñ∂Ô∏è Day</button>
        <button id="week" class="ghost">‚è© Week</button>
        <button id="month" class="ghost">‚è≠Ô∏è Month</button>
        <button id="year" class="ghost">‚èÆÔ∏è Year</button>
        <button id="saveLeaderboard" class="primary">‚¨ÜÔ∏è Update Leaderboard</button>
        <a href="/reset" class="ghost" style="text-decoration:none;padding:10px 16px;border-radius:12px">üîÑ Restart</a>
      </div>
    </div>

    <div class="kpis">
      <div class="kpi"><div class="t">Wallet</div><div class="v" id="kWallet">$0</div><div class="tag">Liquid cash</div></div>
      <div class="kpi"><div class="t">Savings</div><div class="v" id="kSavings">$0</div><div class="tag">Earns interest</div></div>
      <div class="kpi"><div class="t">Invested Assets</div><div class="v" id="kAssets">$0</div><div class="tag" id="assetBreakdownTag">No assets</div></div>
      <div class="kpi"><div class="t">Net Worth</div><div class="v" id="kNet">$0</div><div class="tag">Target <span id="goalTarget">--</span></div></div>
      <div class="kpi"><div class="t">Debt</div><div class="v" id="kDebt">$0</div><div class="tag">Loans & credit</div></div>
      <div class="kpi"><div class="t">High Water Mark</div><div class="v" id="kHigh">$0</div><div class="tag">Best net so far</div></div>
      <div class="kpi"><div class="t">Happiness</div><div class="v" id="kHappy">50%</div><div class="tag">Lifestyle impact</div></div>
      <div class="kpi"><div class="t">Reputation</div><div class="v" id="kRep">0</div><div class="tag">Community love</div></div>
    </div>

    <div class="grid">
      <div class="span-8 notice">
        <h3 style="margin:0 0 10px">Portfolio Pulse</h3>
        <div class="mini" id="breakdown">No assets yet. Buy something from the tabs!</div>
        <canvas id="spark" height="130" style="margin-top:14px;width:100%"></canvas>
      </div>
      <div class="span-4 notice">
        <h3 style="margin:0 0 10px">Quick Actions</h3>
        <label>Transfer to Savings ($)</label>
        <div class="row" style="align-items:center">
          <input id="depositInput" type="number" value="50000" style="flex:1" min="0">
          <button id="depositBtn" class="primary">Deposit</button>
        </div>
        <label>Withdraw from Savings ($)</label>
        <div class="row" style="align-items:center">
          <input id="withdrawInput" type="number" value="50000" style="flex:1" min="0">
          <button id="withdrawBtn" class="ghost">Withdraw</button>
        </div>
        <label>Loan Builder</label>
        <div class="row" style="align-items:center">
          <input id="loanAmount" type="number" value="250000" style="flex:1" min="0">
          <input id="loanRate" type="number" value="6" min="0" max="25" step="0.5" style="width:90px">%
        </div>
        <div class="row" style="margin-top:6px">
          <button id="takeLoan" class="primary" style="flex:1">Take Loan</button>
          <button id="payDebt" class="ghost" style="flex:1">Pay Debt</button>
        </div>
        <p class="mini" id="loanHint">Loans accrue monthly interest automatically.</p>
        <label>Backup & Share</label>
        <div class="row" style="align-items:center">
          <button id="importBtn" class="ghost" style="flex:1">üì• Import Save</button>
          <button id="exportState" class="primary" style="flex:1">üì§ Export Save</button>
        </div>
        <input id="importFile" type="file" accept="application/json" style="display:none">
        <p class="mini" id="importStatus">Keep JSON files safe to restore progress on any device.</p>
        <label>Savings APY</label>
        <input id="apy" type="number" value="4.5" step="0.1" min="0" max="25">
        <label>Inflation</label>
        <input id="infl" type="number" value="2.5" step="0.1" min="0" max="15">
        <details class="mini" style="margin-top:8px;color:#9fb3ff">
          <summary>How to earn reputation?</summary>
          <ul style="margin:6px 0 0 18px">
            <li>Fund charities generously and keep them running.</li>
            <li>Host community events from random event prompts.</li>
            <li>Maintain high staff payroll without layoffs.</li>
            <li>IPO a company and keep investors happy.</li>
          </ul>
        </details>
      </div>
    </div>

    <div class="grid" style="margin-top:18px">
      <div class="span-7 notice">
        <h3 style="margin:0 0 10px">üìú Ledger</h3>
        <table id="ledger">
          <thead><tr><th>#</th><th>Day</th><th>Event</th><th class="right">Œî Wallet</th><th class="right">Œî Assets</th><th class="right">Net</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="span-5 notice">
        <h3 style="margin:0 0 10px">Stats</h3>
        <div class="stat-grid">
          <div class="stat-item"><span>Business Income</span><strong id="statBiz">$0</strong></div>
          <div class="stat-item"><span>Lifestyle Burn</span><strong id="statLifestyle">$0</strong></div>
          <div class="stat-item"><span>Charity Given</span><strong id="statCharity">$0</strong></div>
          <div class="stat-item"><span>Event Impact</span><strong id="statEvents">$0</strong></div>
          <div class="stat-item"><span>Interest Earned</span><strong id="statInterest">$0</strong></div>
          <div class="stat-item"><span>Debt Serviced</span><strong id="statDebt">$0</strong></div>
          <div class="stat-item"><span>Family Life</span><strong id="statFamily">$0</strong></div>
        </div>
      </div>
    </div>
  </section>

  <section id="panel-life" class="panel">
    <h2>üßë‚Äçü§ù‚Äçüßë Lifestyle Planner <small>Tune how wild your spending gets and how it affects happiness.</small></h2>
    <div class="life-cards">
      <div class="life-card">
        <strong>Monthly Lifestyle Burn</strong>
        <input id="lifestyleBurn" type="range" min="10000" max="1500000" step="10000">
        <div class="mini">Currently: <span id="lifestyleBurnVal">$0</span> / month</div>
        <p>Fund mansions, chefs, parties, and impulse buys. High burn increases happiness but can cause debt.</p>
      </div>
      <div class="life-card">
        <strong>Security Detail</strong>
        <select id="securityLevel">
          <option value="0">Minimal ($0/mo)</option>
          <option value="15000">Standard ($15k/mo)</option>
          <option value="50000">Elite ($50k/mo)</option>
        </select>
        <p>Better protection reduces negative events but increases costs.</p>
      </div>
      <div class="life-card">
        <strong>Travel Lifestyle</strong>
        <select id="travelLevel">
          <option value="5000">Coach wanderer ($5k/mo)</option>
          <option value="25000" selected>Business globe trotter ($25k/mo)</option>
          <option value="90000">Private jet set ($90k/mo)</option>
        </select>
        <p>Travel boosts happiness but drains cash. High tier unlocks rare positive events.</p>
      </div>
      <div class="life-card">
        <strong>Staff & Payroll</strong>
        <select id="staffLevel">
          <option value="8000">Lean crew ($8k/mo)</option>
          <option value="30000">Comfort crew ($30k/mo)</option>
          <option value="120000">Royal entourage ($120k/mo)</option>
        </select>
        <p>Personal staff keep life smooth and reputation high but come with a paycheck.</p>
      </div>
    </div>

    <div class="life-actions">
      <div class="card">
        <div class="tagline">HAPPINESS & RISK</div>
        <p id="lifestyleSummary">Adjust the sliders to balance joy and sustainability.</p>
        <button id="lifePresetModest" class="ghost">Modest Living</button>
        <button id="lifePresetBalanced" class="ghost">Balanced</button>
        <button id="lifePresetExtravagant" class="primary">Extravagant</button>
      </div>
      <div class="card">
        <div class="tagline">AUTOSAVE & RESTORE</div>
        <p>We autosave every major move. Import a JSON backup to pick up on another device.</p>
        <button id="clearLocal" class="ghost">Clear Local Save</button>
        <button id="importFromCard" class="ghost">Restore from File</button>
        <button id="exportFromCard" class="primary">Download Backup</button>
        <p class="mini" style="margin-top:4px">Backups include your ledger, holdings, and stats.</p>
      </div>
      <div class="card">
        <div class="tagline">MARKET MOOD</div>
        <p>Current market climate: <strong id="marketMood">Calm</strong></p>
        <p>Events and investments react to market swings. Keep an eye on volatility.</p>
        <button id="triggerEvent" class="ghost">Trigger Random Event</button>
      </div>
      <div class="card">
        <div class="tagline">EMAIL BACKUPS</div>
        <label style="margin:0">Send saves to your inbox</label>
        <input id="emailInput" type="email" placeholder="you@example.com">
        <button id="saveEmail" class="ghost">Save Email</button>
        <button id="sendEmailBtn" class="primary">Email Latest Snapshot</button>
        <p class="mini" id="emailStatus">We keep your email local and only send snapshots when you ask.</p>
      </div>
    </div>

    <div class="stat-block">
      <h3>üé≠ Character Builder</h3>
      <p class="mini">Craft the persona behind your winnings. This updates what appears in your dashboard and on the leaderboard.</p>
      <div class="identity-grid">
        <label>Display Name
          <input id="characterName" type="text" placeholder="Jordan Dreamer">
        </label>
        <label>Age
          <input id="characterAge" type="number" min="18" max="120" placeholder="32">
        </label>
        <label>Pronouns
          <input id="characterPronouns" type="text" placeholder="she/her">
        </label>
        <label>Signature Emoji
          <input id="characterAvatar" type="text" maxlength="4" placeholder="üíº">
        </label>
        <label>Career / Focus
          <input id="characterCareer" type="text" placeholder="Angel investor & philanthropist">
        </label>
      </div>
      <label style="margin-top:14px">Life Story / Bio
        <textarea id="characterBio"></textarea>
      </label>
      <button id="characterSave" class="primary" style="margin-top:12px">Save Identity</button>
    </div>

    <div class="stat-block">
      <h3>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family & Household</h3>
      <p class="mini">Build a realistic entourage. Positive monthly impact means they bring in income, while negative values represent allowances, tuition, or support.</p>
      <div class="family-grid">
        <label>Role
          <select id="familyRole">
            <option>Spouse</option>
            <option>Partner</option>
            <option>Child</option>
            <option>Parent</option>
            <option>Sibling</option>
            <option>Relative</option>
            <option>Friend</option>
            <option>Mentor</option>
            <option>Chef</option>
            <option>Bodyguard</option>
            <option>Pet</option>
            <option>Trainer</option>
          </select>
        </label>
        <label>Name
          <input id="familyName" type="text" placeholder="Taylor">
        </label>
        <label>Age
          <input id="familyAge" type="number" min="0" max="110" placeholder="12">
        </label>
        <label>Monthly Impact ($)
          <input id="familyAllowance" type="number" placeholder="-1500">
        </label>
        <label>Lives With You?
          <select id="familyLives">
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </label>
        <label style="grid-column:span 2">Personality & Notes
          <textarea id="familyNotes" placeholder="Soccer prodigy with private school tuition"></textarea>
        </label>
      </div>
      <button id="addFamily" class="primary" style="margin-top:12px">Add Family Member</button>
      <div class="mini" id="familyImpactLine" style="margin-top:12px">Household obligations: $0/mo</div>
      <table id="familyTable" style="margin-top:12px">
        <thead><tr><th>Name</th><th>Role</th><th class="right">Age</th><th class="right">Monthly Impact</th><th>Lives With You</th><th>Notes</th><th>Action</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <section id="panel-cars" class="panel">
    <h2>üèé Cars ‚Äî Showroom</h2>
    <div id="carList"></div>
    <div class="notice" style="margin-top:16px">
      <h3 style="margin:0 0 10px">üõí Curated Fleet Only</h3>
      <p class="mini">All vehicles are now limited-run exotics with pre-modeled depreciation and upkeep. Build your dream garage by unlocking the curated catalog.</p>
    </div>
    <h3>üöó Garage</h3>
    <table id="garage">
      <thead><tr><th>Model</th><th class="right">Value</th><th class="right">Maint/mo</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="panel-houses" class="panel">
    <h2>üè† Real Estate ‚Äî Portfolio</h2>
    <div id="houseList"></div>
    <div class="notice" style="margin-top:16px">
      <h3 style="margin:0 0 10px">üè° Exclusive Portfolio Only</h3>
      <p class="mini">The property market is locked to pre-modeled estates complete with appreciation, rent potential, taxes, and upkeep. Expand by securing these curated deals.</p>
    </div>
    <h3>üèö Owned Properties</h3>
    <table id="props">
      <thead><tr><th>Property</th><th class="right">Value</th><th class="right">Rent/mo</th><th class="right">Tax/yr</th><th class="right">Upkeep/mo</th><th>Status</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="panel-biz" class="panel">
    <h2>üíº Businesses ‚Äî Ventures</h2>
    <div id="bizList"></div>
    <div class="notice" style="margin-top:16px">
      <h3 style="margin:0 0 10px">üìà Curated Ventures Only</h3>
      <p class="mini">Every company opportunity now comes pre-built with payroll, revenue, and growth trajectories. Earn your way into these exclusive buy-ins.</p>
    </div>
    <h3>üè¢ Owned Companies</h3>
    <table id="companies">
      <thead><tr><th>Company</th><th class="right">Employees</th><th class="right">Payroll/wk</th><th class="right">Revenue/wk</th><th class="right">Margin</th><th>Level</th><th class="right">Board</th><th>Actions</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="panel-charity" class="panel">
    <h2>üéÅ Charities ‚Äî Give Back</h2>
    <div id="charityList"></div>
    <div class="notice" style="margin-top:14px">
      <h3 style="margin:0 0 10px">üåç Expanded Philanthropy Catalog</h3>
      <p class="mini">Choose from fully staffed foundations with defined missions, geographies, and reputation gains. Each requires a significant commitment to launch.</p>
    </div>
    <h3>üèõ Your Charities</h3>
    <table id="charTable">
      <thead><tr><th>Name</th><th>Focus</th><th class="right">Monthly Spend</th><th class="right">Reputation</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="panel-items" class="panel">
    <h2>üíπ Alternative Investments</h2>
    <div id="itemList"></div>
    <div class="notice" style="margin-top:16px">
      <h3 style="margin:0 0 10px">üìä Curated Alternative Plays</h3>
      <p class="mini">Deploy capital into pre-modeled luxury assets, private funds, and speculative bets with defined yields, upkeep, and volatility.</p>
    </div>
    <h3>üéí Owned Investments</h3>
    <table id="inv">
      <thead><tr><th>Asset</th><th>Strategy</th><th class="right">Value</th><th class="right">Upkeep/mo</th><th>Action</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="panel-timeline" class="panel">
    <h2>üìÜ Life Timeline</h2>
    <p class="mini">Track the biggest swings in your fortune. Only the latest 60 major events are shown.</p>
    <div class="timeline-list">
      <table>
        <thead><tr><th>#</th><th>Day</th><th>Event</th><th class="right">Net Worth</th><th class="right">High Water</th></tr></thead>
        <tbody id="timelineBody"></tbody>
      </table>
    </div>
  </section>

  <section id="panel-achievements" class="panel">
    <h2>‚≠ê Achievements</h2>
    <p class="mini">Hit milestones to flex your new lifestyle. These also influence leaderboard bragging rights.</p>
    <div class="achievement-grid" id="achievementsList"></div>
    <div class="stat-block">
      <h3>Milestones</h3>
      <ul id="milestones"></ul>
    </div>
  </section>
</div>

<footer>
  üíº Follow <a href="https://instagram.com/trackyoursheets" target="_blank">@trackyoursheets</a> for more finance sims, tips, and updates!
</footer>

<script>
if ('serviceWorker' in navigator){
  navigator.serviceWorker.register('/static/js/sw.js').catch(()=>{});
}
</script>
<script src="/static/js/game.js?v=30"></script>
</body>
</html>
